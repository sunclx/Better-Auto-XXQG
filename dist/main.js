"ui";(()=>{var at=Object.create;var J=Object.defineProperty;var lt=Object.getOwnPropertyDescriptor;var st=Object.getOwnPropertyNames;var ct=Object.getPrototypeOf,dt=Object.prototype.hasOwnProperty;var K=(t,e)=>()=>(t&&(e=t(t=0)),e);var ut=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var _t=(t,e,i,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of st(e))!dt.call(t,r)&&r!==i&&J(t,r,{get:()=>e[r],enumerable:!(o=lt(e,r))||o.enumerable});return t};var pt=(t,e,i)=>(i=t!=null?at(ct(t)):{},_t(e||!t||!t.__esModule?J(i,"default",{value:t,enumerable:!0}):i,t));function I(t){let e;if(V.find(i=>{let o=R(i+t);return o?(e=o,!0):!1}),!e)throw new Error(`getScriptA: \u6587\u4EF6\u4E0B\u8F7D\u5931\u8D25,script\u4E3A\u7A7A,filename:${t}`);return e}function R(t){try{let e=http.get(t);if(console.log(`getScript: statusCode: ${e.statusCode}`),e.statusCode===200)return console.log(`getScript: \u5B66\u4E60\u811A\u672C ${t} \u4E0B\u8F7D\u6210\u529F`),e.body.string();console.log(`getScript: \u5B66\u4E60\u811A\u672C ${t} \u4E0B\u8F7D\u5931\u8D25`)}catch(e){console.error("getScript: ",e)}return null}var C,F,O,V,M=K(()=>{C="sunclx",F="XXQG",O="main",V=[`https://mirror.ghproxy.com/https://raw.githubusercontent.com/${C}/${F}/${O}/`,`https://raw.kkgithub.com/${C}/${F}/${O}/`,`https://ghproxy.net/https://raw.githubusercontent.com/${C}/${F}/${O}/`,`https://fastly.jsdelivr.net/gh/${C}/${F}@${O}/`,`https://fastraw.ixnic.net/${C}/${F}/${O}/`,`https://cdn.jsdelivr.us/gh/${C}/${F}@${O}/`,`https://jsdelivr.b-cdn.net/gh/${C}/${F}@${O}/`,`https://github.moeyy.xyz/https://raw.githubusercontent.com/${C}/${F}/${O}/`,`https://raw.cachefly.998111.xyz/${C}/${F}/${O}/`,`https://raw.githubusercontent.com/${C}/${F}/${O}/`]});var H=ut((exports,module)=>{auto.waitFor();console.log("\u5F00\u59CB\u6267\u884C\u811A\u672C0.js");var version="0.0.1";console.log(`\u5F53\u524D\u7248\u672C\uFF1A${version}`);var delay_time=3e3;device.wakeUpIfNeeded();var TTXS_PRO_CONFIG=storages.create("TTXS_PRO_CONFIG"),test=TTXS_PRO_CONFIG.get("test",!1),watchdog=TTXS_PRO_CONFIG.get("watchdog","1800"),slide_verify=TTXS_PRO_CONFIG.get("slide_verify","300"),fast_mode=TTXS_PRO_CONFIG.get("fast_mode",!1),ddtong=TTXS_PRO_CONFIG.get("ddtong",!1),is_exit=TTXS_PRO_CONFIG.get("is_exit",!0),pinglun=TTXS_PRO_CONFIG.get("pinglun",!0),shipin=TTXS_PRO_CONFIG.get("shipin",!0),wenzhang=TTXS_PRO_CONFIG.get("wenzhang",!0),meiri=TTXS_PRO_CONFIG.get("meiri",!0),meizhou=TTXS_PRO_CONFIG.get("meizhou",0),zhuanxiang=TTXS_PRO_CONFIG.get("zhuanxiang",0),tiaozhan=TTXS_PRO_CONFIG.get("tiaozhan",!0),ocr_choice=TTXS_PRO_CONFIG.get("ocr_choice",0),duizhan_mode=TTXS_PRO_CONFIG.get("duizhan_mode",0),jisu=TTXS_PRO_CONFIG.get("jisu","0"),guaji=TTXS_PRO_CONFIG.get("guaji",!0),shuangren=TTXS_PRO_CONFIG.get("shuangren",!0),bendi=TTXS_PRO_CONFIG.get("bendi",!0),dingyue=TTXS_PRO_CONFIG.get("dingyue",0),pushplus=TTXS_PRO_CONFIG.get("pushplus",""),yl_on=TTXS_PRO_CONFIG.get("yl_on",!0),yinliang=TTXS_PRO_CONFIG.get("yinliang",0),zhanghao=TTXS_PRO_CONFIG.get("zhanghao",""),comment=TTXS_PRO_CONFIG.get("comment","\u5168\u5FC3\u5168\u610F\u4E3A\u4EBA\u6C11\u670D\u52A1|\u4E0D\u5FD8\u521D\u5FC3\uFF0C\u7262\u8BB0\u4F7F\u547D|\u4E0D\u5FD8\u521D\u5FC3\uFF0C\u65B9\u5F97\u59CB\u7EC8|\u6C38\u8FDC\u575A\u6301\u515A\u7684\u9886\u5BFC|\u5BCC\u5F3A\u3001\u6C11\u4E3B\u3001\u6587\u660E\u3001\u548C\u8C10|\u81EA\u7531\uFF0C\u5E73\u7B49\uFF0C\u516C\u6B63\uFF0C\u6CD5\u6CBB"),district=TTXS_PRO_CONFIG.get("district","\u6C5F\u82CF"),broadcast=TTXS_PRO_CONFIG.get("broadcast","\u6C5F\u82CF\u65B0\u95FB\u5E7F\u64AD"),platform=TTXS_PRO_CONFIG.get("platform","\u6C5F\u82CF\u5B66\u4E60\u5E73\u53F0"),subcolumn=TTXS_PRO_CONFIG.get("subcolumn","\u603B\u4E66\u8BB0\u5728\u6C5F\u82CF"),app_exit=TTXS_PRO_CONFIG.get("app_exit",!0),jifen_list,meizhou_dao,zhuanxiang_dao,dingyue_dao,storage_user,name,jinri,zongfen,jifen_map={\u8BC4\u8BBA:6,\u89C6\u9891:2,\u6587\u7AE0:1,\u6BCF\u65E5:3,\u8DA3\u5473\u7B54\u9898:4,\u8BA2\u9605:5,\u672C\u5730:7},jifen_flag="old",appName=app.getAppName(currentPackage());console.log(currentPackage());console.log(appName);function google_ocr_api(t){console.log("GoogleMLKit\u6587\u5B57\u8BC6\u522B\u4E2D");let e=JSON.parse(JSON.stringify(gmlkit.ocr(t,"zh").toArray(3))),i=30;for(let r=0;r<e.length;r++)for(let a=r+1;a<e.length;a++)if(e[r].bounds.bottom>e[a].bounds.bottom){let l=e[r];e[r]=e[a],e[a]=l}for(let r=0;r<e.length;r++)for(let a=r+1;a<e.length;a++)if(Math.abs(e[r].bounds.bottom-e[a].bounds.bottom)<i&&e[r].bounds.left>e[a].bounds.left){let l=e[r];e[r]=e[a],e[a]=l}let o="";for(let r=0;r<e.length;r++)o+=e[r].text;return e=null,o}function paddle_ocr_api(t,e){e||(e=30),console.log("PaddleOCR\u6587\u5B57\u8BC6\u522B\u4E2D");let i=JSON.parse(JSON.stringify(paddle.ocr(t)));for(let r=0;r<i.length;r++)for(let a=r+1;a<i.length;a++)if(i[r].bounds.bottom>i[a].bounds.bottom){let l=i[r];i[r]=i[a],i[a]=l}for(let r=0;r<i.length;r++)for(let a=r+1;a<i.length;a++)if(Math.abs(i[r].bounds.bottom-i[a].bounds.bottom)<e&&i[r].bounds.left>i[a].bounds.left){let l=i[r];i[r]=i[a],i[a]=l}let o="";for(let r=0;r<i.length;r++)o+=i[r].text;return i=null,o}fast_mode&&auto.setMode("fast");events.observeToast();sleep(delay_time);var storage=storages.create("songgedodo"),w=fInit();fInfo("\u5929\u5929\u5411\u4E0APro\u811A\u672C\u521D\u59CB\u5316");var[device_w,device_h]=init_wh(),ocr;if(ocr_choice==2){fInfo("\u521D\u59CB\u5316\u7B2C\u4E09\u65B9ocr\u63D2\u4EF6");try{ocr=plugins.load("com.hraps.ocr"),ocr.recognizeText=function(t){let e=this.detect(t.getBitmap(),1),i="";for(let o=0;o<e.size();o++){let r=e.get(o);i+=r.text}return i}}catch(t){fError("\u672A\u5B89\u88C5\u7B2C\u4E09\u65B9OCR\u63D2\u4EF6\uFF0C\u8BF7\u5B89\u88C5\u540E\u91CD\u65B0\u8FD0\u884C"),alert("\u672A\u5B89\u88C5\u7B2C\u4E09\u65B9OCR\u63D2\u4EF6\uFF0C\u70B9\u51FB\u786E\u8BA4\u8DF3\u8F6C\u6D4F\u89C8\u5668\u4E0B\u8F7D\uFF0C\u5BC6\u7801\u4E3Attxs"),app.openUrl("https://wwc.lanzouo.com/ikILs001d0wh"),exit()}}threads.start(function(){toastLog("\u5F00\u59CB\u81EA\u52A8\u83B7\u53D6\u622A\u56FE\u6743\u9650");let t=className("android.widget.Button").textMatches(/允许|立即开始|START NOW/).findOne(5e3);t&&(sleep(1e3),t.click()),toastLog("\u7ED3\u675F\u83B7\u53D6\u622A\u56FE\u6743\u9650")});fInfo("\u8BF7\u6C42\u622A\u56FE\u6743\u9650");requestScreenCapture(!1)||(fError("\u8BF7\u6C42\u622A\u56FE\u5931\u8D25"),exit());fInfo("\u8BBE\u7F6E\u5C4F\u5E55\u5E38\u4EAE");device.keepScreenOn(3600*1e3);fInfo("\u68C0\u6D4B\u9898\u5E93\u66F4\u65B0");var update_info=get_tiku_by_http("https://gitcode.net/m0_64980826/songge_tiku/-/raw/master/info.json");fInfo(`\u6B63\u5728\u52A0\u8F7D\u5BF9\u6218\u9898\u5E93......\u8BF7\u7A0D\u7B49
\u9898\u5E93\u7248\u672C:`+update_info.tiku_version);fInfo("\u5982\u679C\u4E0D\u52A8\u5C31\u662F\u6B63\u5728\u4E0B\u8F7D\uFF0C\u591A\u7B49\u4F1A");var tiku={};try{tiku=get_tiku_by_http(update_info.tiku_link)}catch(t){tiku=get_tiku_by_http(update_info.tiku_link2)}fInfo(`\u6B63\u5728\u52A0\u8F7D\u4E13\u9879\u9898\u5E93......\u8BF7\u7A0D\u7B49
\u9898\u5E93\u7248\u672C:`+update_info.dati_tiku_version);var dati_tiku=[];try{dati_tiku=update_dati_tiku()}catch(t){fError("\u7F51\u7EDC\u539F\u56E0\u672A\u83B7\u53D6\u5230\u5728\u7EBF\u9898\u5E93\uFF0C\u8BF7\u5C1D\u8BD5\u5207\u6362\u6D41\u91CF\u6216\u8005\u66F4\u6362114DNS"),dati_tiku=get_tiku_by_ct("https://webapi.ctfile.com/get_file_url.php?uid=35157972&fid=555754562&file_chk=94c3c662ba28f583d2128a1eb9d78af4&app=0&acheck=2&rd=0.14725283060014105")}files.createWithDirs("/sdcard/\u5929\u5929\u5411\u4E0A/");var yuan_yl=10;if(yl_on){fInfo("\u8BBE\u7F6E\u5A92\u4F53\u97F3\u91CF"),yuan_yl=device.getMusicVolume();let t=device.getMusicMaxVolume(),e=Math.ceil(yinliang*t/100);device.setMusicVolume(e),fInfo("\u5F53\u524D\u97F3\u91CF\uFF1A"+device.getMusicVolume())}is_exit&&(fInfo("\u8FD0\u884C\u524D\u91CD\u7F6E\u5B66\u4E60APP"),exit_app("\u5B66\u4E60\u5F3A\u56FD"),sleep(1500));fInfo("\u5F00\u59CB\u4F4D\u7F6E\u6743\u9650\u5F39\u7A97\u68C0\u6D4B");var nolocate_thread=threads.start(function(){id("title_text").textContains("\u5730\u7406\u4F4D\u7F6E").waitFor(),fInfo("\u68C0\u6D4B\u5230\u4F4D\u7F6E\u6743\u9650\u5F39\u7A97"),sleep(1e3),text("\u6682\u4E0D\u5F00\u542F").findOne().click(),fInfo("\u5DF2\u5173\u95ED\u5B9A\u4F4D")});fInfo("\u8DF3\u8F6C\u5B66\u4E60APP");app.launchApp("\u5B66\u4E60\u5F3A\u56FD");sleep(2e3);function do_pinglun(){entry_jifen_project("\u53D1\u8868\u89C2\u70B9"),fSet("title","\u8BC4\u8BBA\u2026"),fClear(),sleep(1e3),swipe(device_w/2,device_h*.7,device_w/2,device_h*.4,1e3),id("general_card_title_id").findOne().parent().parent(),fInfo("\u5C1D\u8BD5\u70B9\u51FBtitle:"+id("general_card_title_id").findOne().text()),real_click(id("general_card_title_id").findOne().parent().parent()),log("\u7B49\u5F85\u52A0\u8F7D"),idContains("image-text-content").waitFor();let t=text("\u6B22\u8FCE\u53D1\u8868\u4F60\u7684\u89C2\u70B9");for(log("\u67E5\u627E\u8BC4\u8BBA\u6846"),t.waitFor(),sleep(1500);t.exists();){let o=t.findOne(500);fInfo("\u5C1D\u8BD5\u70B9\u51FB\u8BC4\u8BBA\u6846\u4E2D"),log(o.click()),sleep(1500),fRefocus()}fInfo("\u8BC4\u8BBA\u6846click: true");let e=comment.split("|");log("\u8BC4\u8BBA\u5217\u8868\uFF1A",e);let i=e[random(0,e.length-1)];return i||(fTips('\u8BC4\u8BBA\u5185\u5BB9\u4E0D\u53EF\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u5DF2\u91CD\u7F6E\u4E3A"\u4E0D\u5FD8\u521D\u5FC3\uFF0C\u7262\u8BB0\u4F7F\u547D"'),i="\u4E0D\u5FD8\u521D\u5FC3\uFF0C\u7262\u8BB0\u4F7F\u547D"),classNameEndsWith("EditText").findOne().setText(i),sleep(1e3),text("\u53D1\u5E03").findOne().click(),sleep(1e3),text("\u5220\u9664").findOne().click(),sleep(1e3),text("\u786E\u8BA4").findOne().click(),sleep(1e3),back(),jifen_init(),ran_sleep(),!0}function do_shipin(){entry_jifen_project("\u89C6\u542C\u5B66\u4E60"),jifen_list.child(jifen_map.\u89C6\u9891).child(3).click(),ddtong?fSet("title","\u89C6\u542C(dd\u901A)\u2026"):fSet("title","\u89C6\u542C\u5B66\u4E60\u2026"),fClear(),desc("\u767E\u7075").findOne().click(),sleep(1e3),fInfo("\u68C0\u6D4B\u6E29\u99A8\u63D0\u793A\u5F39\u7A97"),text("\u6E29\u99A8\u63D0\u793A").findOne(1500)&&(text("\u5173\u95ED").findOne().click(),fInfo("\u68C0\u6D4B\u5230\u6E29\u99A8\u63D0\u793A\u5E76\u5DF2\u5173\u95ED")),desc("\u767E\u7075").findOne().click();let t=text("\u7AD6").findOne();sleep(1500);let e=t.parent().parent().parent().parent();textMatches(/\d{2}:\d{2}/).waitFor();let i=e.findOne(className("android.widget.ListView"));i.child(1).child(1).child(0).click()||fInfo("\u5C1D\u8BD5\u518D\u6B21\u70B9\u51FB"+i.child(1).child(1).child(0).child(0).click()),text("\u5206\u4EAB").waitFor(),idContains("guide_view").findOne(1500)&&(fInfo("\u68C0\u6D4B\u5230\u5F15\u5BFC\u906E\u7F69"),sleep(1e3),click(device_w/2,device_h/2),sleep(1e3),click(device_w/2,device_h/4)),sleep(800),textMatches(/刷新重试|继续播放/).exists()&&(fInfo("\u68C0\u6D4B\u5230\u6D41\u91CF\u63D0\u9192"),textMatches(/刷新重试|继续播放/).findOne().click()),sleep(random(8e3,9500));let o=6;ddtong&&(o+=6);for(let r=0;r<o;r++)click(device_w/2,device_h/2),sleep(500),swipe(device_w/2,device_h*.8,device_w/2,device_h*.1,1e3),sleep(random(8e3,9500));return back(),fInfo("\u89C6\u9891\u4E2A\u6570\u5DF2\u5237\u5B8C"),jifen_init(),ran_sleep(),!0}function do_wenzhang(){let t=storage_user.get("old_wen_list",[]);entry_jifen_project("\u672C\u5730\u9891\u9053"),ddtong?fSet("title","\u6587\u7AE0(dd\u901A)\u2026"):fSet("title","\u9009\u8BFB\u6587\u7AE0\u2026"),fClear(),fInfo(`\u5207\u6362\u5730\u533A\u4E3A${district}`),text("\u5207\u6362\u5730\u533A").findOne(3e3),text("\u7ACB\u5373\u5207\u6362").exists()&&text("\u53D6\u6D88").findOne(3e3).click(),log("\u5207\u6362\u5730\u533A"),text("\u5207\u6362\u5730\u533A").findOne().click(),log(`\u67E5\u627E\u5730\u533A${district}`),text(`${district}`).waitFor(),sleep(500),log(`\u5207\u6362\u5730\u533A${district}`),text(`${district}`).findOne().parent().parent().click(),log("\u67E5\u627Ebanner");let e=classNameContains("RecyclerView").findOne();for(fInfo(`\u67E5\u627E\u65B0\u95FB\u5E7F\u64AD${broadcast}`);e.findOne(text(`${broadcast}`).boundsInside(0,0,device_w,device_h))==null;)e.scrollForward(),sleep(500);let i=e.findOne(text(`${broadcast}`));for(fInfo(`\u70B9\u51FB\u65B0\u95FB\u5E7F\u64AD${broadcast}\uFF1A`+i.parent().click()),fInfo("\u89C6\u542C\u5E7F\u64AD\u65F6\u957F"),sleep(11500),back(),fClear(),fInfo("\u5F00\u59CB\u6587\u7AE0"),sleep(1500),e=classNameContains("RecyclerView").findOne();e.findOne(text(`${platform}`).boundsInside(0,0,device_w,device_h))==null;)e.scrollBackward(),sleep(500);sleep(1e3),fInfo(`\u67E5\u627E\u5B66\u4E60\u5E73\u53F0${platform}\uFF0C\u5C1D\u8BD5\u70B9\u51FB`);let o=e.findOne(text(`${platform}`));real_click(o.parent()),log("\u7B49\u5F85\u52A0\u8F7D"),sleep(1e3),text(`${subcolumn}`).waitFor(),sleep(1e3);let r=text(`${subcolumn}`).findOne().parent().parent().bounds().bottom;log("\u8BC6\u522B\u51FA\u9876\u90E8\uFF1A",r),fRefocus();let a=className("android.widget.ListView").depth(17).findOne();for(let _=0;_<2;_++)a.scrollForward(),sleep(500);let l=className("android.view.ViewGroup").depth(20).filter(function(_){let f=_.findOne(idContains("general_card_title_id")),u=_.findOne(idContains("general_card_image_id")),h=_.findOne(idContains("st_feeds_card_mask_pic_num"));return f&&u&&!h?t.indexOf(f.text())==-1&&f.text().indexOf("\u3010\u4E13\u9898\u3011")==-1:!1});for(log("\u67E5\u627E\u6587\u7AE0");!l.findOne(500);)a.scrollForward();log("\u627E\u5230\u6587\u7AE0");let s=l.findOne(),c=0,d=6;for(ddtong&&(d+=6);;){let _=s.findOne(idContains("general_card_title_id")).text();t.push(_),t.length>100&&t.shift(),fClear(),fInfo("\u70B9\u51FB\u6587\u7AE0\uFF1A"+_);let f=s.parent().parent().click();fInfo("\u70B9\u51FB\uFF1A"+f),classNameContains("com.uc.webview.export").waitFor(),fInfo("\u67E5\u627Ewebview");let u=className("android.webkit.WebView").findOne(9e3);if(sleep(1e3),u&&u.find(idContains("__next")).empty())if(fInfo("\u67E5\u627E\u6587\u7AE0\u5185\u5BB9"),idContains("image-text-content").findOne(9e3)&&idContains("xxqg-article-header").findOne().child(0).click(),swipe(device_w/2,device_h*.7,device_w/2,device_h*.3,1e3),c<d-1)sleep(random(9e3,10500));else{toastLog("\u6B63\u5728\u5237\u65F6\u957F\u7A0B\u5E8F\u672A\u505C\u6B62");let S=random(330,360);fClear(),fInfo("\u5F00\u59CB\u5237\u65F6\u957F\uFF0C\u603B\u5171"+S+"\u79D2");let A=1;for(let b=0;b<S;b++)b%15==0?(swipe(device_w/2,device_h*.6,device_w/2,device_h*.6-100,500),sleep(500)):sleep(1e3),fSet("info","\u5DF2\u89C2\u770B\u6587\u7AE0"+A+"\u79D2\uFF0C\u603B\u5171"+S+"\u79D2"),A++;fSet("info","\u5DF2\u7ED3\u675F\u6587\u7AE0\u65F6\u957F"),console.hide(),back();break}else c-=1;for(back(),className("android.widget.ListView").scrollable().depth(17).waitFor(),sleep(1e3);!l.exists();)a.scrollForward(),sleep(200);s=l.findOne(),c+=1}return storage_user.put("old_wen_list",t),sleep(3e3),close_video(),back(),sleep(3e3),jifen_init(),ran_sleep(),!0}function do_meiri(){entry_jifen_project("\u6BCF\u65E5\u7B54\u9898"),fSet("title","\u6BCF\u65E5\u7B54\u9898\u2026"),fClear(),text("\u67E5\u770B\u63D0\u793A").waitFor();let t=className("android.view.View").depth(24).findOnce(1).text(),e=Number(t[0]),i=Number(t[t.length-1]),o=t.slice(1);for(;e<=i;){if(fClear(),fInfo("\u7B2C"+e+"\u9898"),text(e+o).waitFor(),e++,className("android.widget.Image").exists()){e=1,restart(0);continue}if(do_exec(),depth(20).text("\u786E\u5B9A").findOne().click(),ran_sleep(),text("\u4E0B\u4E00\u9898").exists()||text("\u5B8C\u6210").exists()){fInfo("\u7B54\u9519\u91CD\u8BD5"),e=1,restart(0);continue}}return text("\u8FD4\u56DE").findOne().click(),text("\u767B\u5F55").waitFor(),ran_sleep(),!0}function do_meizhou(){if(text("\u6BCF\u5468\u7B54\u9898").findOne().parent().click(),fSet("title","\u6BCF\u5468\u7B54\u9898\u2026"),fClear(),textMatches(/.*月|发现新版本/).waitFor(),text("\u53D1\u73B0\u65B0\u7248\u672C").exists())return fError("\u6709\u5F39\u7A97\u65E0\u6CD5\u6BCF\u5468\u7B54\u9898\uFF0C\u53EF\u4F7F\u7528\u65E7\u7248\u4FEE\u6539\u7248\u672C\u53F7\u7248\u53D6\u6D88\u5F39\u7A97"),sleep(1e3),text("\u53D6\u6D88").findOne().click(),sleep(1e3),back(),text("\u6211\u8981\u7B54\u9898").waitFor(),sleep(1e3),back(),ran_sleep(),!0;let t=depth(21).scrollable().findOne(),e;if(meizhou_dao){for(fInfo("\u5012\u5E8F\u67E5\u627E\u672A\u505A\u9898\u76EE");!text("\u5DF2\u4F5C\u7B54").exists();)t.scrollForward(),sleep(300);let l=text("\u672A\u4F5C\u7B54").find();if(l.empty())return fInfo("\u6BCF\u5468\u7B54\u9898\u5168\u90E8\u5DF2\u4F5C\u7B54\u3002"),ran_sleep(),back(),text("\u6BCF\u5468\u7B54\u9898").waitFor(),sleep(1e3),back(),text("\u6211\u8981\u7B54\u9898").waitFor(),sleep(1e3),back(),text("\u6211\u7684").waitFor(),ran_sleep(),!0;e=l[l.length-1].parent().child(0).text(),fInfo(e+"\u5F00\u59CB\u4F5C\u7B54"),l[l.length-1].parent().click()}else{fInfo("\u6B63\u5E8F\u67E5\u627E\u672A\u505A\u9898\u76EE");let l=text("\u60A8\u5DF2\u7ECF\u770B\u5230\u4E86\u6211\u7684\u5E95\u7EBF").filter(function(s){return log("\u5E95\u7EBF\uFF1A",s.bounds().top,device_h),s.bounds().top<=device_h-30});for(;!text("\u672A\u4F5C\u7B54").exists();){if(l.exists())return fInfo("\u6BCF\u5468\u7B54\u9898\u5168\u90E8\u5DF2\u4F5C\u7B54\u3002"),back(),text("\u6BCF\u5468\u7B54\u9898").waitFor(),sleep(1e3),back(),text("\u6211\u8981\u7B54\u9898").waitFor(),sleep(1e3),back(),text("\u6211\u7684").waitFor(),ran_sleep(),!0;t.scrollForward(),sleep(200)}e=text("\u672A\u4F5C\u7B54").findOne().parent().child(0).text(),fInfo(e+"\u5F00\u59CB\u4F5C\u7B54"),text("\u672A\u4F5C\u7B54").findOne().parent().click()}text("\u67E5\u770B\u63D0\u793A").waitFor();let i=className("android.view.View").depth(24).findOnce(1).text(),o=Number(i[0]),r=Number(i[i.length-1]),a=i.slice(1);for(;o<=r;)if(fClear(),fInfo("\u7B2C"+o+"\u9898"),text(o+a).waitFor(),o++,do_exec("\uFF08\u6BCF\u5468\uFF09"),depth(20).text("\u786E\u5B9A").findOne().click(),ran_sleep(),text("\u4E0B\u4E00\u9898").exists()||text("\u5B8C\u6210").exists())return fInfo("\u505A\u9519\u5C1D\u8BD5\u91CD\u7B54"),text("\u7B54\u6848\u89E3\u6790").waitFor(),upload_wrong_exec("\uFF08\u6BCF\u5468\uFF09"),storage.put("dati_tiku",dati_tiku),back(),text("\u9000\u51FA").findOne().click(),ran_sleep(),back(),text("\u6BCF\u5468\u7B54\u9898").waitFor(),ran_sleep(),!1;return text("\u8FD4\u56DE").findOne().click(),sleep(1e3),back(),text("\u6BCF\u5468\u7B54\u9898").waitFor(),sleep(1e3),back(),text("\u6211\u8981\u7B54\u9898").waitFor(),sleep(1e3),back(),text("\u6211\u7684").waitFor(),ran_sleep(),!0}function do_zhuanxiang(){entry_jifen_project("\u4E13\u9879\u7B54\u9898"),fSet("title","\u4E13\u9879\u7B54\u9898\u2026"),fClear(),depth(23).waitFor(),ran_sleep();let t=depth(21).indexInParent(1).scrollable().findOne();if(zhuanxiang_dao){for(;!text("\u5DF2\u6EE1\u5206").exists();)t.scrollForward(),sleep(200);let s=text("\u5F00\u59CB\u7B54\u9898").find();if(s.empty())return fInfo("\u4E13\u9879\u7B54\u9898\u5168\u90E8\u5DF2\u4F5C\u7B54\u3002"),back(),text("\u767B\u5F55").waitFor(),ran_sleep(),!0;s[s.length-1].click()}else{for(;!text("\u5F00\u59CB\u7B54\u9898").exists();){if(text("\u60A8\u5DF2\u7ECF\u770B\u5230\u4E86\u6211\u7684\u5E95\u7EBF").filter(function(c){return c.bounds().top<=device_h-30}).exists())return fInfo("\u4E13\u9879\u7B54\u9898\u5168\u90E8\u5DF2\u4F5C\u7B54\u3002"),back(),text("\u767B\u5F55").waitFor(),ran_sleep(),!0;for(let c=0;c<15;c++)t.scrollForward(),sleep(300)}text("\u5F00\u59CB\u7B54\u9898").findOne().click()}ran_sleep(),text("\u67E5\u770B\u63D0\u793A").waitFor(),sleep(2e3);let e=className("android.view.View").depth(24).findOnce(1).text(),i=/(\d+) \/(\d+)/,o=e.match(i);if(o==null){fInfo("\u9898\u53F7\u5339\u914D\u5931\u8D25\uFF0C\u9000\u51FA\u4E13\u9879\u7B54\u9898\u3002");return}let r=Number(o[1]),a=Number(o[2]),l=" /"+a;for(;r<=a;)fClear(),fInfo("\u7B2C"+r+"\u9898"),text(r+l).waitFor(),r++,do_exec(),className("android.view.View").filter(function(c){return c.text()=="\u4E0B\u4E00\u9898"||c.text()=="\u5B8C\u6210"}).findOne().click(),ran_sleep();if(text("\u67E5\u770B\u89E3\u6790").waitFor(),sleep(1e3),textMatches(/\d+分/).findOne().text()!="100\u5206"){fInfo("\u6709\u9519\u9898\uFF0C\u5C1D\u8BD5\u4E0A\u4F20\u9519\u9898"),text("\u67E5\u770B\u89E3\u6790").findOne().click(),e=textMatches(i).findOne().text();let s=e.match(i);if(s==null){fInfo("\u9898\u53F7\u5339\u914D\u5931\u8D25\uFF0C\u9000\u51FA\u4E13\u9879\u7B54\u9898\u3002");return}for(r=Number(s[1]),a=Number(s[2]),l=" /"+a,sleep(1500);r<=a;)text(r+l).waitFor(),r++,textEndsWith("\u56DE\u7B54\u9519\u8BEF").exists()&&upload_wrong_exec(),className("android.view.View").filter(function(d){return d.text()=="\u4E0B\u4E00\u9898"||d.text()=="\u5B8C\u6210"}).findOne().click(),sleep(random(1e3,1500));storage.put("dati_tiku",dati_tiku)}else back(),ran_sleep();return back(),text("\u767B\u5F55").waitFor(),ran_sleep(),!0}function do_tiaozhan(){ddtong?fSet("title","\u6311\u6218(dd\u901A)\u2026"):fSet("title","\u6311\u6218\u7B54\u9898\u2026"),fClear(),className("android.widget.Image").textMatches(/total.*|chanllenge.*/).waitFor();let t=!0;if(textStartsWith("total").exists()){let a=className("android.widget.Image").textStartsWith("total").findOne().parent();ran_sleep(),a.click(),className("android.widget.Image").textStartsWith("chanllenge").waitFor()}let e=0,i=5,o,r;for(ddtong&&(i+=10);;){fClear(),fInfo("\u7B2C"+(e+1)+"\u9898"),className("android.widget.ListView").waitFor(),ran_sleep();try{o=className("android.widget.ListView").findOne().children(),r=className("android.widget.ListView").findOne().parent().child(0).text()}catch(l){log("error1:",l),sleep(500);continue}let a=get_ans_by_tiku(r.replace(/[^\u4e00-\u9fa5\d]|来源：.+|出题单位：.+/g,""));if(e>=i)fInfo("\u5DF2\u7B54\u5BF9"+i+"\u9898\uFF0C\u5168\u9009A"),o[0].child(0).click();else if(a.length!=0){let l=0,s=null;for(let c of o){let d=c.child(0).child(1).text();for(let _ of a){let f=str_similar(_.slice(2),d);f>l&&(l=f,s=c.child(0))}}s!=null?(fInfo("\u6700\u7EC8\uFF1A"+s.child(1).text()),s.click()):(fInfo("\u65E0\u5339\u914D\u7B54\u6848"),o[0].child(0).click())}else fInfo("\u672A\u627E\u5230\u7B54\u6848"),o[0].child(0).click();if(sleep(2500),text("\u7ED3\u675F\u672C\u5C40").exists()){if(sleep(5e3),click("\u7ED3\u675F\u672C\u5C40"),text("\u518D\u6765\u4E00\u5C40").waitFor(),e<5)fInfo("\u7B54\u9519\u91CD\u8BD5"),console.warn("warn:",r),text("\u518D\u6765\u4E00\u5C40").findOne().click();else return t&&(back(),textStartsWith("total").waitFor(),sleep(2e3)),back(),text("\u767B\u5F55").waitFor(),ran_sleep(),!0;e=0,sleep(2e3);continue}e+=1}}function do_duizhan(t){fClear();let e=!0;if(t==2){fSet("title","\u53CC\u4EBA\u5BF9\u6218"),fInfo("\u7B49\u5F85\u968F\u673A\u5339\u914D"),text("\u968F\u673A\u5339\u914D").waitFor(),sleep(1e3);let a=text("\u968F\u673A\u5339\u914D").findOne().parent().child(0);do fInfo("\u70B9\u51FB\uFF1A"+a.click()),sleep(500);while(text("\u968F\u673A\u5339\u914D").exists())}else if(t==4||t==0){fSet("title","\u56DB\u4EBA\u8D5B"),fInfo("\u7B49\u5F85\u5F00\u59CB\u6BD4\u8D5B"),text("\u5F00\u59CB\u6BD4\u8D5B").waitFor(),sleep(1e3);let a=text("\u5F00\u59CB\u6BD4\u8D5B").findOne().click();fInfo("\u70B9\u51FB\uFF1A"+a)}let i=Number(jisu);i>0&&duizhan_mode==1?ui.run(function(){let a=w.title.getText();w.title.setText(a+"(\u56FA\u5B9A)"),toastLog("\u8FD9\u662F\u5E9F\u5F03\u6A21\u5F0F\uFF0C\u6CA1\u6709\u6B63\u786E\u7387")}):duizhan_mode==2&&ui.run(function(){let a=w.title.getText();w.title.setText(a+"(\u624B\u52A8)"),toastLog("\u8BF7\u624B\u52A8\u70B9\u51FB\u7B54\u6848")}),className("android.widget.ListView").waitFor(),fClear();let o=1,r=!0;for(;;){if(o!=1&&r){for(;;)if(text("\u7EE7\u7EED\u6311\u6218").exists()){sleep(1e3);let p=text("\u7EE7\u7EED\u6311\u6218").findOne().click();if(fInfo("\u70B9\u51FB\u7EE7\u7EED\u6311\u6218:"+p),sleep(1500),back(),t==2){sleep(1e3),fInfo("\u67E5\u627E\u9000\u51FA\u6309\u94AE"),fast_mode&&winReshow();let g=text("\u9000\u51FA").findOne().click();fInfo("\u70B9\u51FB\u9000\u51FA:"+g)}return sleep(1e3),text("\u767B\u5F55").waitFor(),ran_sleep(),!0}else if(text("\u7B2C"+o+"\u9898").exists()){fClear(),fInfo("\u7B2C"+o+"\u9898");break}for(;text("\u7B2C"+o+"\u9898").exists(););}else if(!r&&(r=!0,text("\u7EE7\u7EED\u6311\u6218").exists())){sleep(1e3);let p=text("\u7EE7\u7EED\u6311\u6218").findOne().click();if(fInfo("\u70B9\u51FB\u7EE7\u7EED\u6311\u6218:"+p),sleep(1500),back(),t==2){sleep(1e3),fInfo("\u67E5\u627E\u9000\u51FA\u6309\u94AE"),fast_mode&&winReshow();let g=text("\u9000\u51FA").findOne().click();fInfo("\u70B9\u51FB\u9000\u51FA:"+g)}return sleep(1e3),text("\u767B\u5F55").waitFor(),ran_sleep(),!0}if(!className("android.widget.ListView").findOne(1e3)){log("\u627E\u4E0D\u5230listview"),r=!1,sleep(200);continue}sleep(100);let l=className("android.view.View").depth(28).indexInParent(0).findOne(1e3);if(!l){toastLog("\u627E\u4E0D\u5230view_d28"),r=!1,sleep(200);continue}let s,c,d,_;if(l.childCount()>0)s=l.bounds().left,c=l.bounds().top,d=l.bounds().width(),l.child(0).text().length<=4?_=l.child(2).bounds().top-l.bounds().top:_=l.child(0).bounds().bottom-l.bounds().top;else{toastLog("\u627E\u4E0D\u5230\u6846\u4F53"),log(l.childCount(),l.bounds()),r=!1,sleep(200);continue}let f=className("android.widget.RadioButton").find().length;if(!f){log("\u627E\u4E0D\u5230\u9009\u9879"),r=!1,sleep(200);continue}let u="";for(let p=0;p<1;p++){let g=captureScreen(),y=images.clip(g,s,c,d,_);if(console.time("\u9898\u76EE\u8BC6\u522B"),ocr_choice==0?u=google_ocr_api(y).replace(/[^\u4e00-\u9fa5\d]|\d{1,2}\./g,""):ocr_choice==1?u=paddle_ocr_api(y).replace(/[^\u4e00-\u9fa5\d]|\d{1,2}\./g,""):u=ocr.recognizeText(y).replace(/[^\u4e00-\u9fa5\d]|\d{1,2}\./g,""),console.timeEnd("\u9898\u76EE\u8BC6\u522B"),u){fInfo("\u9898\u76EE\u8BC6\u522B\uFF1A"+u),g.recycle(),y.recycle();break}else fError("\u672A\u8BC6\u522B\u51FA\u9898\u76EE\uFF0C\u53EF\u80FD\u88AB\u7981\u6B62\u622A\u56FE\u6216\u65E0\u969C\u788D\u5931\u6548"),g.recycle(),y.recycle(),sleep(200)}if(t==0){fInfo("\u7531\u4E8E\u7B2C\u4E00\u5C40\u5339\u914D\u5BF9\u624B\u8F83\u5F3A\uFF0C\u6B63\u5728\u6302\u673A\u4E2D\u3002"),fInfo("\u7ECF\u6D4B\u8BD5\u6302\u673A\u4E0D\u4F1A\u6263\u79EF\u5206\u5C40\u6570\uFF0C\u6B64\u529F\u80FD\u53EF\u5728\u914D\u7F6E\u4E2D\u5173\u95ED"),fTips("\u8BF7\u4E0D\u8981\u70B9\u51FB\u4EFB\u4F55\u9009\u9879\uFF0C\u4E0D\u8981\u4F5C\u7B54\uFF01\uFF01\uFF01"),o++,text("\u7EE7\u7EED\u6311\u6218").waitFor();continue}let h="default_ocr_replace",S=new RegExp(update_info.question_reg,"gi"),A=new RegExp(update_info.include_reg,"gi"),b;(()=>{if(b=S.exec(u),b){h="other_ocr_replace";return}if(b=/读音|词形/g.exec(u),b){h="accent_ocr_replace";return}b=A.exec(u),b&&(h="include_ocr_replace")})();let j=get_ans_by_tiku(u),$={A:0,B:1,C:2,D:3};try{let p=0;if(u==""?(fInfo("\u672A\u8BC6\u522B\u51FA\u9898\u76EE\uFF0C\u968F\u673A\u9009\u62E9\u7B54\u6848"),p=random(0,f-1),duizhan_mode=1):j.length==1&&$[j[0][0]]!=null?(p=$[j[0][0]],fTips("\u7B54\u6848:"+j[0].slice(2))):j.length==0&&(fInfo("\u672A\u627E\u5230\u7B54\u6848\uFF0C\u968F\u673A\u9009\u62E9\u7B54\u6848"),p=random(0,f-1)),duizhan_mode==1){if(i>0&&o!=1)sleep(random(i,i+50));else for(;className("android.widget.ListView").findOne(1e3).indexInParent()==0;);sleep(200);let g=className("android.widget.RadioButton").findOnce(p).parent().click();log(g),g||(sleep(200),log(className("android.widget.RadioButton").findOnce(p).parent().click())),fClear(),o++;continue}else if(duizhan_mode==2){o++,textMatches(/第.+题|继续挑战/).waitFor();continue}}catch(p){log("error1:",p)}try{for(;className("android.widget.ListView").findOne(1e3).indexInParent()==0;);}catch(p){log("error2:",p),r=!1,sleep(200);continue}let N=className("android.widget.ListView").findOne(1e3),it=N.bounds().left,nt=N.bounds().top,rt=N.bounds().width(),ot=N.bounds().height();if(!N||!N.parent().childCount()||!N.parent().child(0)){log("xuan_box is null"),r=!1,sleep(200);continue}log("\u5F00\u59CB\u622A\u9009\u9879"),console.time("\u9009\u9879\u8BC6\u522B");let L=captureScreen();L=images.clip(L,it,nt,rt,ot);let k=null,v="";if(ocr_choice==0){let p=JSON.parse(JSON.stringify(gmlkit.ocr(L,"zh").toArray(3)));v=ocr_rslt_to_txt(p).replace(/\s+/g,"")}else if(ocr_choice==1){let p=JSON.parse(JSON.stringify(paddle.ocr(L)));v=ocr_rslt_to_txt(p).replace(/\s+/g,"")}else v=ocr.recognizeText(L);if(console.timeEnd("\u9009\u9879\u8BC6\u522B"),!v){log("\u8BC6\u522B\u4E0D\u51FA\u9009\u9879\u6587\u672C\uFF0C\u53EF\u80FD\u88AB\u7981\u6B62\u622A\u56FE"),className("android.widget.RadioButton").findOnce(random(0,f-1)).parent().click(),r=!1,sleep(200);continue}L.recycle(),log("replace_sign:"+h),log("\u6E05\u6D17\u524D\uFF1A"+v);let X=update_info[h];if(h=="include_ocr_replace"){let p=!0;log("que_key:"+b);let[g,y,G]=X[b];for(let m of g)if(!new RegExp(m,"gi").test(v)){p=!1;break}if(p){let m=new RegExp(y,"gi");v=v.replace(m,G)}}else for(let p of Object.keys(X)){let g=new RegExp(p,"gi");v=v.replace(g,X[p])}if(k=v.match(/[a-d][^a-z\u4e00-\u9fa5\d]?\s*.*?(?=[a-d][^a-z\u4e00-\u9fa5\d]?|$)/gi),!k){log("\u8BC6\u522B\u4E0D\u51FA\u9009\u9879"),r=!1,sleep(200);continue}if(k&&k.length!=f&&(k=v.match(/[a-d][^a-z\u4e00-\u9fa5\d]\s*.*?(?=[a-d][^a-z\u4e00-\u9fa5\d]|$)/gi)),log(k==null?void 0:k.toString()),(k==null?void 0:k.length)!=0){let p=0,g="",y="",G="";for(let m of k){let U=m.replace(/^[A-Z]\.?/gi,"");for(let B of j){let D=str_similar(B.slice(2),U);D>p&&(p=D,G=B,duizhan_mode==1?(g=B[0],y=m[0].toUpperCase()):(y=B[0],g=m[0].toUpperCase()))}}if(j.length>1&&fTips("\u5339\u914D\u7B54\u6848:"+G),g!=""&&duizhan_mode!=2){let m=$[g];fInfo("\u6700\u7EC8:"+g);try{className("android.widget.RadioButton").findOnce(m).parent().click()}catch(U){m=$[y],fInfo("\u5907\u9009:"+y);try{className("android.widget.RadioButton").findOnce(m).parent().click()}catch(B){log("error3:",B),r=!1,sleep(200);continue}}}else if(duizhan_mode==2)textMatches(/第.+题|继续挑战/).waitFor();else try{className("android.widget.RadioButton").findOnce().parent().click()}catch(m){log("error4:",m),r=!1,sleep(200);continue}}else{fError("\u672A\u8BC6\u522B\u51FA\u9009\u9879\uFF0C\u968F\u673A\u9009\u62E9"),className("android.widget.RadioButton").findOnce(random(0,f-1)).parent().click(),fClear(),r=!1;continue}o++}}function do_dingyue(){if(entry_jifen_project("\u8BA2\u9605"),fSet("title","\u8BA2\u9605\u2026"),fClear(),!descContains("Tab").findOne(9e3)||!descContains("\u4E0A\u65B0").findOne(9e3))return back(),text("\u767B\u5F55").waitFor(),!1;let i=descContains("Tab").untilFind(),o=0;for(let r of i){r.click(),sleep(500);let a=className("android.view.View").depth(14).findOne().children();for(let l of a){dingyue_dao&&(l=a[a.length-1]),l.click(),sleep(500),className("android.view.View").depth(14).waitFor();let s=className("android.view.View").depth(14).findOnce(1),c="";for(;s;){let d=className("android.widget.ImageView").indexInParent(2).untilFind();try{if(d[d.length-1].parent().child(1).desc()==c){fClear(),fInfo("\u5230\u5E95\u4E86");break}c=d[d.length-1].parent().child(1).desc()}catch(u){log(u);continue}let _=captureScreen();for(let u of d){if(u.bounds().bottom>=device_h)continue;let h;try{h=findColorInRegion(_,"#E42417",u.bounds().left,u.bounds().top,u.bounds().width(),u.bounds().height(),30)}catch(S){console.error(u.bounds()),console.error(u.parent().child(1).desc())}if(h){fInfo("\u627E\u5230\u4E00\u4E2A\u8BA2\u9605"),sleep(1e3);let S=u.click();fInfo("\u70B9\u51FB\uFF1A"+S),sleep(1e3),o+=1}if(o>=2)return fInfo("\u8BA2\u9605\u5DF2\u5B8C\u6210"),back(),text("\u767B\u5F55").waitFor(),ran_sleep(),!0}let f=s.scrollForward();sleep(500)}if(dingyue_dao){fInfo("\u53EA\u68C0\u67E5\u5E74\u5EA6\u4E0A\u65B0");break}}}return fInfo("\u65E0\u53EF\u8BA2\u9605\u9879\u76EE"),back(),text("\u767B\u5F55").waitFor(),ran_sleep(),!0}function do_bendi(){entry_jifen_project("\u672C\u5730\u9891\u9053"),fSet("title","\u672C\u5730\u2026"),fClear(),text("\u5207\u6362\u5730\u533A").findOne(5e3),text("\u7ACB\u5373\u5207\u6362").exists()&&text("\u53D6\u6D88").findOne(3e3).click();let t=classNameContains("RecyclerView").findOne(),e=t.child(0).child(1).text();return t.child(0).click(),className("android.widget.TextView").depth(11).text(e).waitFor(),sleep(1500),back(),ran_sleep(),jifen_init(),ran_sleep(),!0}function do_exec(t){text("\u67E5\u770B\u63D0\u793A").findOne().click(),ran_sleep(),text("\u63D0\u793A").waitFor();let i="";if(textStartsWith("\u5355\u9009\u9898").exists()){let o=className("android.view.View").depth(24).findOnce(1).parent().parent().child(1).text();if(i=get_ans_by_re(o),i&&depth(26).text(i).exists())depth(26).text(i).findOnce().parent().click();else{t?i=get_ans_by_dati_tiku(o,t):i=get_ans_by_dati_tiku(o);let r=/[A-F]/;if(i&&r.test(i)&&i.length==1){let a=i.match(r);i=a?a[0]:"";let l={A:0,B:1,C:2,D:3,E:4,F:5};className("android.widget.RadioButton").findOnce(l[i[0]]).parent().click()}else if(i||(i=get_ans_by_ocr1().replace(/\s/g,"")),depth(26).text(i).exists())depth(26).text(i).findOne().parent().click();else{let a=className("android.widget.RadioButton").find(),l=0,s=null;for(let c of a){let d=str_similar(i,c.parent().child(2).text());d>l&&(l=d,s=c.parent())}s?s.click():className("android.widget.RadioButton").findOne().parent().click()}}}else if(textStartsWith("\u586B\u7A7A\u9898").exists()){let o=className("android.view.View").depth(24).findOnce(1).parent().parent().child(1).children(),a=className("android.widget.EditText").findOne().parent().children().find(className("android.view.View")).length,l=0,s="";for(let c of o)c.text()?s=s+c.text():(l+=1,s=s+"    ");if(l<=1)t?i=get_ans_by_dati_tiku(s,t):i=get_ans_by_dati_tiku(s),i||(i=get_ans_by_re(s)),i&&a==i.length||(i=get_ans_by_ocr1().replace(/\s/g,""),i||(i="\u672A\u8BC6\u522B\u51FA\u6587\u5B57")),depth(25).className("android.widget.EditText").findOne().setText(i);else{t?i=get_ans_by_dati_tiku(s,t):i=get_ans_by_dati_tiku(s),i||(i=get_ans_by_ocr1().replace(/\s/g,"")),i||(i="\u672A\u8BC6\u522B\u51FA\u6587\u5B57");let c=className("android.widget.EditText").find(),d=i;for(let _ of c){let f=_.parent().children().find(className("android.view.View")).length;_.setText(d.slice(0,f)),d=d.slice(f)}}}else if(textStartsWith("\u591A\u9009\u9898").exists()){let o=className("android.view.View").depth(24).findOnce(1).parent().parent().child(1).text(),r=/\s{3,}/g,a=o.match(r),l=className("android.widget.CheckBox").find();if((a==null?void 0:a.length)==l.length){i="\u5168\u9009";for(let s of l)s.parent().click()}else{t?i=get_ans_by_dati_tiku(o,t):i=get_ans_by_dati_tiku(o);let s=/[A-F]{1,6}/;if(i&&s.test(i)){let c=i.match(s);i=c?c[0]:"";let d={A:0,B:1,C:2,D:3,E:4,F:5};for(let _ of i)className("android.widget.CheckBox").findOnce(d[_]).parent().click()}else{i=get_ans_by_ocr1(),i=i.replace(/[^\u4e00-\u9fa5\w]/g,""),log(i);for(let c of l){let d=c.parent().child(2).text().replace(/[^\u4e00-\u9fa5\w]/g,"");i.indexOf(d)>=0&&c.parent().click()}}}}return fInfo("\u7B54\u6848\uFF1A"+i),back(),sleep(1e3),!0}function get_ans_by_re(que_txt){let reg1=/([^，。？、；：” ]*?)\s{3,}([^，。？、；：” ]*)/,res=que_txt.match(reg1);if(res==null||(res[1]==""&&res[2]==""&&(reg1=/([^，。？、；：” ]*?[，。？、；：” ]*?)\s{3,}([，。？、；：” ]*?[^，。？、；：” ]*)/,res=que_txt.match(reg1)),res==null))return console.error("get_ans_by_re: \u5339\u914D\u5931\u8D25"),"";let reg2_str="/"+res[1]+"([^\uFF0C\u3002\uFF1F\u3001\uFF1B\uFF1A\u201D ]*)"+res[2]+"/",reg2=eval(reg2_str),tishi_txt=text("\u63D0\u793A").findOne().parent().parent().child(1).child(0).text(),res2=tishi_txt.match(reg2);if(res2){let t=res2[1];return log(t),t}else return""}function get_ans_by_ocr1(){fRefocus();let t=text("\u63D0\u793A").findOne().parent().parent().child(1).child(0).bounds();fInfo("\u5F00\u59CB\u622A\u5C4F");let e=captureScreen();e=images.clip(e,t.left-10,t.top-10,t.width()+20,t.height()),e=images.interval(e,"#FD1111",120);let i="";return ocr_choice==0?i=google_ocr_api(e):ocr_choice==1?i=paddle_ocr_api(e):i=ocr.recognizeText(e),i?log(i):fInfo("\u672A\u8BC6\u522B\u51FA\u6587\u5B57"),e.recycle(),i}function get_ans_by_http(t){let e=/[\u4e00-\u9fa5\d]+/g,i=t.match(e);if(i==null)return[];let o="";for(let d of i)d.length>o.length&&d.indexOf("\u4E2D\u534E\u4EBA\u6C11\u5171\u548C")<0&&d.indexOf("\u4E60\u8FD1\u5E73\u603B\u4E66\u8BB0")<0&&(o=d);let r=o.slice(0,6);log(r);let s=http.get("http://www.syiban.com/search/index/init.html?modelid=1&q="+encodeURI(r)).body.string().match(/答案：(.*?)<\/span><\/p>/g),c=[];if(s!=null)for(let d of s){let _=d.match(/答案：(.*?)<\/span><\/p>/),f;_?f=_[1].replace(/[\u200B-\u200D\uFEFF]/g,""):f="",c.push(f)}return c}function get_ans_by_dati_tiku(t,e){let i=t.replace(/\s/g,""),o=[],r="";if(dati_tiku.length==0)return"";for(let a=dati_tiku.length-1;a>=0;a--){let l=dati_tiku[a];l[0].indexOf(i)>-1&&(r=l[1],r!="None"&&o.push(r))}if(!o)return"";if(e){for(let a of o)if(a.indexOf(e)>-1){r=a.replace(e,"");break}}return log("\u5339\u914D\u9898\u5E93\uFF1A",r),r}function update_dati_tiku(){let t=1,e=storage.get("dati_tiku_link",""),i=storage.get("dati_tiku",[]);try{if(update_info.dati_tiku_link!=e){try{i=get_tiku_by_http(update_info.dati_tiku_link)}catch(o){i=get_tiku_by_http(update_info.dati_tiku_link2)}storage.put("dati_tiku_link",update_info.dati_tiku_link),storage.put("dati_tiku",i),fInfo("\u5DF2\u66F4\u65B0\u79BB\u7EBF\u9898\u5E93")}else fInfo("\u672A\u68C0\u6D4B\u5230\u9898\u5E93\u66F4\u65B0\uFF0C\u5DF2\u7528\u5386\u53F2\u9898\u5E93");return i}catch(o){if(console.warn(o),i)return fInfo("\u672A\u8BC6\u522B\u51FA\u79BB\u7EBF\u9898\u5E93\uFF0C\u5DF2\u7528\u5386\u53F2\u9898\u5E93"),i}if(i=i,!i||i.length!=t){let o=http.get("https://tiku.3141314.xyz/getAnswer");o.statusCode==200?(i=o.body.json(),storage.put("dati_tiku",i),fInfo("\u9898\u5E93\u5DF2\u66F4\u65B0")):fInfo("\u7F51\u7EDC\u95EE\u9898\u8BC6\u522B\u4E0D\u51FA\u5728\u7EBF\u9898\u5E93")}return i}function upload_wrong_exec(t){text("\u7B54\u6848\u89E3\u6790").waitFor();let e="";if(textStartsWith("\u586B\u7A7A\u9898").exists()){let r=className("android.view.View").depth(24).findOnce(1).parent().parent().child(1).children();for(let a of r)a.text()?e=e+a.text():e=e+"    "}else e=className("android.view.View").depth(24).findOnce(1).parent().parent().child(1).text();let i=textStartsWith("\u6B63\u786E\u7B54\u6848\uFF1A").findOne().text().replace(/正确答案：|\s+/g,""),o=e.replace(/\s/g,"");t&&(i+=t),fError("\u9519\u9898:"+o+i),dati_tiku.push([o,i,null,null,null])}function get_ans_by_tiku(t){let e=[],i=0;for(let o of Object.keys(tiku)){let r=o.replace(/\[.+\]|^\d+\./g,"").replace(/[^\u4e00-\u9fa5\d]/g,""),a=t.length,l=str_similar(r.slice(0,a),t);l>=.25&&(l>i?(e.length=0,e.push(tiku[o][1]),i=l):l==i&&e.push(tiku[o][1]))}return e}function get_tiku_by_http(t){t||(t="https://mart-17684809426.coding.net/p/tiku/d/tiku/git/raw/master/tiku_json.txt");let e=http.get(t,{headers:{"Accept-Language":"zh-cn,zh;q=0.5","User-Agent":random(0,17)}});if(log(e.statusCode),e.statusCode!=200)throw"\u7F51\u7EDC\u539F\u56E0\u672A\u83B7\u53D6\u5230\u9898\u5E93\uFF0C\u8BF7\u5C1D\u8BD5\u5207\u6362\u6D41\u91CF\u6216\u8005\u66F4\u6362114DNS\uFF0C\u9000\u51FA\u811A\u672C";return e.body.json()}function get_tiku_by_ct(t){t||(t="https://webapi.ctfile.com/get_file_url.php?uid=35157972&fid=546999609&file_chk=e83f4b72a2f142cca6ee87c64baba15c&app=0&acheck=2&rd=0.9023931062078081");let i=http.get(t).body.json();return http.get(i.downurl).body.json()}function ocr_rslt_to_txt(t){let e=0,i=0,o="",r=[];for(let l in t)e==0&&(e=t[l].bounds.top),i==0&&(i=t[l].bounds.left),t[l].bounds.top>=e-10&&t[l].bounds.top<=e+10?t[l].bounds.left>i?o=o+"   "+t[l].text:o=t[l].text+"   "+o:(e=t[l].bounds.top,r.push(o),o=t[l].text),Number(l)==t.length-1&&r.push(o),i=t[l].bounds.left;return r.join(`
`)}function restart(t){switch(ran_sleep(),back(),text("\u9000\u51FA").findOne().click(),ran_sleep(),t){case 0:text("\u767B\u5F55").waitFor(),entry_jifen_project("\u6BCF\u65E5\u7B54\u9898");break;case 1:{for(text("\u672C\u6708").waitFor();!text("\u5DF2\u4F5C\u7B54").exists();)depth(21).scrollable().findOne().scrollForward(),sleep(200);let e=text("\u672A\u4F5C\u7B54").find();e[e.length-1].parent().click();break}}}function jifen_init(){for(id("comm_head_xuexi_score").findOne().click();!className("android.view.View").text("\u767B\u5F55").findOne(9e3);)back(),sleep(1e3),id("comm_head_xuexi_score").findOne().click();fRefocus(),text("\u767B\u5F55").waitFor(),className("android.webkit.WebView").scrollable().findOne().scrollForward()}function ran_sleep(){return sleep(random(1e3,delay_time))}function str_similar(str1,str2){if(str1=str1.replace(/[^\u4e00-\u9fa5\u2460-\u2469\wāáǎàōóǒòēéěèīíǐìūúǔùüǖǘǚǜ]/g,""),str2=str2.replace(/[^\u4e00-\u9fa5\u2460-\u2469\wāáǎàōóǒòēéěèīíǐìūúǔùüǖǘǚǜ]/g,""),str1==str2)return 99;let muzi=str1.length>str2.length?str2:str1,instr=str1.length>str2.length?str1:str2,reg="/["+muzi+"]{1}/g",resu=instr.match(eval(reg));return resu?resu.length/instr.length:0}function close_video(){let t=className("android.widget.ImageView").find(),e=t[t.length-1];return e.click(),sleep(1e3),e.click(),!0}function init_wh(){fInfo("\u5C4F\u5E55\u65B9\u5411\u68C0\u6D4B"),log(device.width+"*"+device.height);let t=depth(0).findOne().bounds().width(),e=depth(0).findOne().bounds().height();return log(t+"*"+e),device.width==e&&device.height==t?(fError("\u8BBE\u5907\u5C4F\u5E55\u65B9\u5411\u68C0\u6D4B\u4E3A\u6A2A\u5411\uFF0C\u540E\u7EED\u8FD0\u884C\u5F88\u53EF\u80FD\u4F1A\u62A5\u9519\uFF0C\u5EFA\u8BAE\u8C03\u6574\u540E\u91CD\u65B0\u8FD0\u884C\u811A\u672C"),sleep(1e4)):(device.width==0||device.height==0)&&(fError("\u8BC6\u522B\u4E0D\u51FA\u8BBE\u5907\u5BBD\u9AD8\uFF0C\u5EFA\u8BAE\u91CD\u542F\u5F3A\u56FD\u52A9\u624B\u540E\u91CD\u65B0\u8FD0\u884C\u811A\u672C"),sleep(1e4)),[t,e]}function real_click(t){for(let e=1;e<=3;e++){if(t.click())return log("real click: true"),!0;sleep(300)}return console.warn("\u63A7\u4EF6\u65E0\u6CD5\u6B63\u5E38\u70B9\u51FB\uFF1A",t),log("\u5C1D\u8BD5\u518D\u6B21\u70B9\u51FB"),click(t.bounds().centerX(),t.bounds().centerY()),!1}function send_pushplus(t,e){zongfen=jifen_flag=="old"?text("\u6210\u957F\u603B\u79EF\u5206").findOne().parent().child(3).text():text("\u6210\u957F\u603B\u79EF\u5206").findOne().parent().child(1).text(),jinri=jifen_list.parent().child(1).text().replace(" ","").replace("\u7D2F\u79EF","\u7D2F\u79EF:");let i="<style>.item{height:1.5em;line-height:1.5em;}.item span{display:inline-block;padding-left:0.4em;}.item .bar{width:100px;height:10px;background-color:#ddd;border-radius:5px;display:inline-block;}.item .bar div{height:10px;background-color:#ed4e45;border-radius:5px;}</style>",o="<h6>"+jinri+" \u603B\u79EF\u5206:"+zongfen+"</h6><div>";jinri.match(/\d+/g)||(o+="\u7531\u4E8E\u7F51\u7EDC\u539F\u56E0\uFF0C\u672A\u8BC6\u522B\u51FA\u603B\u5206\uFF0C\u8BF7\u81EA\u884C\u67E5\u770B");for(let a of e)a=="ocr_false"&&(o="\u7531\u4E8Eocr\u8FC7\u6162\uFF0C\u5DF2\u8DF3\u8FC7\u591A\u4EBA\u5BF9\u6218"+o);for(let a of jifen_list.children()){let l,s,c;jifen_flag=="old"?(l=a.child(0).child(0).text(),s=a.child(2).text().match(/\d+/g)[0],c=a.child(2).text().match(/\d+/g)[1]):jifen_flag=="new1"?(l=a.child(0).text(),s=a.child(3).child(0).text(),c=a.child(3).child(2).text().match(/\d+/g)[0]):jifen_flag=="new2"&&(l=a.child(0).text(),s=a.child(3).text().match(/\d+/g)[0],c=a.child(3).text().match(/\d+/g)[1]),l=="\u4E13\u9879\u7B54\u9898"&&(c=10);let d=(Number(s)/Number(c)*100).toFixed()+"%",_=l+": "+s+"/"+c;o+='<div class="item"><div class="bar"><div style="width: '+d+';"></div></div><span>'+_+"</span></div>"}o+="</div>"+i;let r=http.postJson("http://www.pushplus.plus/send",{token:t,title:"\u5929\u5929\u5411\u4E0A\uFF1A"+name,content:o+"</div><style>.item{height:1.5em;line-height:1.5em;}.item span{display:inline-block;padding-left:0.4em;}.item .bar{width:100px;height:10px;background-color:#ddd;border-radius:5px;display:inline-block;}.item .bar div{height:10px;background-color:#ed4e45;border-radius:5px;}</style>",template:"markdown"});r.body.json().code==200?fInfo("\u63A8\u9001\u6210\u529F"):log(r.body.json())}function exit_app(t){fInfo("\u5C1D\u8BD5\u7ED3\u675F"+t+"APP");let e=getPackageName(t);if(!e)if(getAppName(t))e=t;else return!1;log("\u6253\u5F00\u5E94\u7528\u8BBE\u7F6E\u754C\u9762"),app.openAppSetting(e);let i=app.getAppName(e);log("\u7B49\u5F85\u52A0\u8F7D\u754C\u9762"),text(i).findOne(5e3),sleep(1500),log("\u67E5\u627E\u7ED3\u675F\u6309\u94AE");let o=textMatches(/(强.停止$|.*停止$|结束运行|停止运行|[Ff][Oo][Rr][Cc][Ee] [Ss][Tt][Oo][Pp])/).findOne();if(log("stop:",o.enabled()),o.enabled()){real_click(o),sleep(1e3),log("\u7B49\u5F85\u786E\u8BA4\u5F39\u6846");let r=textMatches(/(确定|.*停止.*|[Ff][Oo][Rr][Cc][Ee] [Ss][Tt][Oo][Pp]|O[Kk])/).clickable().findOne(1500);if(!r)return fInfo(i+"\u5E94\u7528\u5DF2\u5173\u95ED"),back(),!1;log("sure click:",r.click()),fInfo(i+"\u5E94\u7528\u5DF2\u88AB\u5173\u95ED"),sleep(1e3),back()}else fInfo(i+"\u5E94\u7528\u4E0D\u80FD\u88AB\u6B63\u5E38\u5173\u95ED\u6216\u4E0D\u5728\u540E\u53F0\u8FD0\u884C"),sleep(1e3),back();return!0}function login(t,e){let i=idMatches(/.*comm_head_xuexi_mine|.*btn_next/).findOne();if(i.text()=="\u767B\u5F55"){log("\u67E5\u627Eab");let o=className("EditText").id("et_phone_input").findOne(),r=className("EditText").id("et_pwd_login").findOne();o.setText(t),sleep(1e3),r.setText(e),sleep(1e3),i.click(),sleep(3e3);let a=getPackageName("\u5B66\u4E60\u5F3A\u56FD");currentPackage()!=a&&(log("\u68C0\u6D4B\u5230\u5F39\u7A97\uFF0C\u5C1D\u8BD5\u8FD4\u56DE"),textMatches(/取消/).exists()?textMatches(/取消/).findOne().click():back())}}function refind_jifen(){className("android.webkit.WebView").scrollable().findOne().scrollForward();let t=className("android.widget.ListView").filter(function(e){return 8<e.rowCount()}).findOne();return t.depth()==21?(jifen_flag="old",fInfo("\u68C0\u6D4B\u4E3A\u65E7\u7248\u754C\u9762")):t.depth()==23&&(jifen_flag=0<t.child(0).child(3).childCount()?"new1":"new2",fInfo("\u68C0\u6D4B\u4E3A\u65B0\u7248\u754C\u9762")),t}function entry_jifen_project(t){let e=jifen_flag=="old"?3:4;jifen_list.findOne(textEndsWith(t)).parent().child(e).click()}function winReshow(){for(let t=0;t<4;t++)recents(),sleep(1e3)}function noverify(){return threads.start(function(){for(;;){let t=Number(slide_verify);if(fClear(),!t){fInfo("\u672A\u5F00\u542F\u9707\u52A8\u63D0\u9192");break}textContains("\u8BBF\u95EE\u5F02\u5E38").waitFor(),fInfo("\u68C0\u6D4B\u5230\u6ED1\u52A8\u9A8C\u8BC1\uFF0C\u8BF7\u5C3D\u5FEB\u6ED1\u52A8"),device.vibrate(t),textContains("\u5237\u65B0").exists()?click("\u5237\u65B0"):textContains("\u7F51\u7EDC\u5F00\u5C0F\u5DEE").exists()?click("\u786E\u5B9A"):sleep(1e3)}})}function fInit(){let t=floaty.rawWindow(<card cardCornerRadius="8dp"alpha="0.8"><vertical><horizontal bg="#FF000000"padding="10 5"><text id="version"textColor="#FFFFFF"textSize="18dip">
            天天向上+
          </text><text id="title"h="*"textColor="#FFFFFF"textSize="13dip"layout_weight="1"gravity="top|right"/></horizontal><ScrollView><vertical bg="#AA000000"id="container"minHeight="20"gravity="center"/></ScrollView></vertical><relative gravity="right|bottom"><text id="username"textColor="#FFFFFF"textSize="12dip"padding="5 0"/></relative></card>);return ui.run(function(){t.version.setText("\u5929\u5929\u5411\u4E0A+")}),t.setSize(720,-2),t.setPosition(10,10),t.setTouchable(!1),t}function fSet(t,e){ui.run(function(){w.findView(t).setText(e)})}function fInfo(t){ui.run(function(){let e=ui.inflate(<text id="info"maxLines="2"textColor="#7CFC00"textSize="15dip"padding="5 0"/>,w.container);e.setText(t.toString()),w.container.addView(e)}),console.info(t)}function fError(t){ui.run(function(){let e=ui.inflate(<text id="error"maxLines="2"textColor="#FF0000"textSize="15dip"padding="5 0"/>,w.container);e.setText(t.toString()),w.container.addView(e)}),console.error(t)}function fTips(t){ui.run(function(){let e=ui.inflate(<text id="tips"maxLines="2"textColor="#FFFF00"textSize="15dip"padding="5 0"/>,w.container);e.setText(t.toString()),w.container.addView(e)}),console.info(t)}function fClear(){ui.run(function(){w.container.removeAllViews()})}function fRefocus(){threads.start(function(){ui.run(function(){w.requestFocus(),w.title.requestFocus(),ui.post(function(){w.title.clearFocus(),w.disableFocus()},200)})}),sleep(500)}function xxqg(t){let e=[];fInfo("\u5F00\u59CB\u66F4\u65B0\u5F39\u7A97\u68C0\u6D4B");let i=threads.start(function(){className("android.widget.Button").textContains("\u5347\u7EA7").waitFor(),fInfo("\u68C0\u6D4B\u5230\u5347\u7EA7\u5F39\u7A97"),sleep(1e3),className("android.widget.Button").text("\u53D6\u6D88").findOne().click(),fInfo("\u5DF2\u53D6\u6D88\u5347\u7EA7")});fInfo("\u5F00\u59CB\u6D88\u606F\u901A\u77E5\u5F39\u7A97\u68C0\u6D4B");let o=threads.start(function(){className("android.widget.Button").text("\u53BB\u5F00\u542F").waitFor(),fInfo("\u68C0\u6D4B\u5230\u6D88\u606F\u901A\u77E5\u5F39\u7A97"),sleep(1e3),className("android.widget.Button").text("\u53D6\u6D88").findOne().click(),fInfo("\u5DF2\u53D6\u6D88\u6D88\u606F\u901A\u77E5")}),r,a,l;t?([r,a,l]=t,login(r,a),storage_user=storages.create("songgedodo:"+r),name=r.substr(0,3)+"****"+r.substr(-4)):(name="",storage_user=storage),fSet("username",name),ran_sleep(),meizhou==1?meizhou_dao=!1:meizhou==0&&(meizhou_dao=!0),zhuanxiang==1?zhuanxiang_dao=!1:zhuanxiang==0&&(zhuanxiang_dao=!0),dingyue==1?dingyue_dao=!1:dingyue==2&&(dingyue_dao=!0),id("comm_head_xuexi_score").findOne().click(),text("\u767B\u5F55").waitFor(),jifen_list=refind_jifen(),nolocate_thread.isAlive()&&(nolocate_thread.interrupt(),fInfo("\u7EC8\u6B62\u4F4D\u7F6E\u6743\u9650\u5F39\u7A97\u68C0\u6D4B")),i.isAlive()&&(i.interrupt(),fInfo("\u7EC8\u6B62\u66F4\u65B0\u5F39\u7A97\u68C0\u6D4B")),o.isAlive()&&(o.interrupt(),fInfo("\u7EC8\u6B62\u6D88\u606F\u901A\u77E5\u68C0\u6D4B")),(pinglun&&test||jifen_flag=="old"&&jifen_list.child(jifen_map.\u8BC4\u8BBA).child(2).text().match(/\d+/)[0]=="0"||jifen_flag=="new1"&&jifen_list.child(jifen_map.\u8BC4\u8BBA).child(3).child(0).text()=="0"||jifen_flag=="new2"&&jifen_list.child(jifen_map.\u8BC4\u8BBA).child(3).text().match(/\d+/)[0]=="0")&&(toastLog("\u5F00\u59CB\u8BC4\u8BBA"),do_pinglun(),jifen_list=refind_jifen()),(shipin&&test||jifen_flag=="old"&&jifen_list.child(jifen_map.\u89C6\u9891).child(3).text()!="\u5DF2\u5B8C\u6210"||jifen_flag!="old"&&jifen_list.child(jifen_map.\u89C6\u9891).child(4).text()!="\u5DF2\u5B8C\u6210")&&(console.verbose("\u65E0\u969C\u788D\u670D\u52A1\uFF1A"+auto.service),toastLog("\u5F00\u59CB\u89C6\u542C\u6B21\u6570"),do_shipin(),jifen_list=refind_jifen()),(meiri&&test||jifen_flag=="old"&&jifen_list.child(jifen_map.\u6BCF\u65E5).child(3).text()!="\u5DF2\u5B8C\u6210"||jifen_flag!="old"&&jifen_list.child(jifen_map.\u6BCF\u65E5).child(4).text()!="\u5DF2\u5B8C\u6210")&&(toastLog("\u6BCF\u65E5\u7B54\u9898\u5F00\u59CB"),do_meiri(),jifen_list=refind_jifen());function s(){entry_jifen_project("\u8DA3\u5473\u7B54\u9898"),sleep(1e3),toastLog("\u5F00\u59CB\u8DA3\u5473\u7B54\u9898");for(let u=0;u<10;u++){if(text("\u968F\u673A\u5339\u914D").exists()&&text("\u5F00\u59CB\u5BF9\u6218").exists()&&shuangren==!0){toastLog("\u53CC\u4EBA\u5BF9\u6218\u5F00\u59CB"),do_duizhan(2),jifen_list=refind_jifen();return}if(text("\u5F00\u59CB\u6BD4\u8D5B").exists()&&shuangren==!0){toastLog("\u56DB\u4EBA\u8D5B\u5F00\u59CB"),guaji&&do_duizhan(0),do_duizhan(4),jifen_list=refind_jifen();return}if(tiaozhan==!0&&text("\u6311\u6218\u7B54\u9898").exists()){toastLog("\u6311\u6218\u7B54\u9898\u5F00\u59CB"),do_tiaozhan(),jifen_list=refind_jifen();return}toastLog("\u8DA3\u5473\u7B54\u9898\u5931\u8D25")}}(test||jifen_flag=="old"&&jifen_list.child(jifen_map.\u8DA3\u5473\u7B54\u9898).child(2).text().match(/\d+/)[0]=="0"||jifen_flag=="new1"&&jifen_list.child(jifen_map.\u8DA3\u5473\u7B54\u9898).child(3).child(0).text()=="0"||jifen_flag=="new2"&&jifen_list.child(jifen_map.\u8DA3\u5473\u7B54\u9898).child(3).text().match(/\d+/)[0]=="0")&&s(),(wenzhang&&test||jifen_flag=="old"&&jifen_list.child(jifen_map.\u6587\u7AE0).child(3).text()!="\u5DF2\u5B8C\u6210"||jifen_flag!="old"&&jifen_list.child(jifen_map.\u6587\u7AE0).child(4).text()!="\u5DF2\u5B8C\u6210")&&(console.verbose("\u65E0\u969C\u788D\u670D\u52A1\uFF1A"+auto.service),toastLog("\u5F00\u59CB\u6587\u7AE0\u6B21\u6570\u4E0E\u65F6\u957F"),do_wenzhang(),jifen_list=refind_jifen()),(bendi&&test||jifen_flag=="old"&&jifen_list.child(jifen_map.\u672C\u5730).child(3).text()!="\u5DF2\u5B8C\u6210"||jifen_flag!="old"&&jifen_list.child(jifen_map.\u672C\u5730).child(4).text()!="\u5DF2\u5B8C\u6210")&&(toastLog("\u672C\u5730\u5F00\u59CB"),do_bendi(),jifen_list=refind_jifen());let c;if(dingyue!=0&&(test||jifen_flag=="old"&&jifen_list.child(jifen_map.\u8BA2\u9605).child(2).text().match(/\d+/)[0]=="0"||jifen_flag!="old"&&jifen_list.child(jifen_map.\u8BA2\u9605).child(3).child(0).text()=="0"||jifen_flag=="new1"&&jifen_list.child(jifen_map.\u8BA2\u9605).child(3).child(0).text()=="0"||jifen_flag=="new2"&&jifen_list.child(jifen_map.\u8BA2\u9605).child(3).text().match(/\d+/)[0]=="0")&&(toastLog("\u8BA2\u9605\u5F00\u59CB"),c=do_dingyue(),jifen_list=refind_jifen()),pushplus||l){fInfo("\u63A8\u9001\u524D\u7B49\u5F85\u79EF\u5206\u5237\u65B05\u79D2"),sleep(5e3),l||(l=pushplus);try{send_pushplus(l,e)}catch(u){fError(u+":push+\u63A8\u9001\u5931\u8D25\uFF0C\u8BF7\u5C1D\u8BD5\u5207\u6362\u6D41\u91CF\u8FD0\u884C\u6216\u8005\u8BBE\u7F6E114DNS")}}back();let d=!0;if(meizhou!=2)if(toastLog("\u6BCF\u5468\u7B54\u9898\u5F00\u59CB"),text("\u6211\u7684").findOne().click(),sleep(1e3),text("\u6211\u8981\u7B54\u9898").findOne(3e3)){for(text("\u6211\u8981\u7B54\u9898").findOne().parent().click(),sleep(1e3),d=do_meizhou();!d;)d=do_meizhou();text("\u6211\u7684").waitFor(),d||fError("\u6BCF\u5468\u7B54\u9898\u53EF\u80FD\u7531\u4E8E\u8BC6\u522B\u9519\u8BEF\u3001\u5305\u542B\u89C6\u9891\u9898\u800C\u4E0D\u80FD\u6EE1\u5206\uFF0C\u8BF7\u624B\u52A8\u4F5C\u7B54")}else fError("V2.42\u53CA\u4EE5\u4E0A\u4E0D\u652F\u6301\u6BCF\u5468\u7B54\u9898"),back(),ran_sleep();if(dingyue==0||c||fError("\u672A\u80FD\u8BC6\u522B\u51FA\u8BA2\u9605\u754C\u9762\uFF0C\u8BA2\u9605\u4E0D\u652F\u6301\u5B66\u4E60\u5F3A\u56FDV2.33.0\u4EE5\u4E0A\u7248\u672C"),!zhanghao)return!0;let _=text("\u6211\u7684").findOne();log("mine:",_),_.click(),log("\u7B49\u5F85\u8BBE\u7F6E\u6309\u94AE");let f=id("my_setting").findOne(3e3);if(f)sleep(1e3),log("\u70B9\u51FB\u8BBE\u7F6E\u6309\u94AE"),real_click(f);else{swipe(device_w/2,.8*device_h,device_w/2,.1*device_h,1e3),fInfo("minebounds: "+_.bounds()),sleep(6e3);let u;do{let h=random(_.bounds().centerX(),_.bounds().right);u=_.bounds().centerY(),fInfo("\u70B9\u51FB\u8BBE\u7F6E\u6309\u94AE: "+h+","+u),click(h,u)}while(!id("setting_sign_out").findOne(1500))}return log("\u7B49\u5F85\u9000\u51FA\u767B\u5F55"),_=id("setting_sign_out").findOne(),sleep(1e3),log("\u70B9\u51FB\u9000\u51FA\u767B\u5F55"),real_click(_),text("\u786E\u8BA4").findOne().click(),!0}function main(t){let e,i;Number(watchdog)?Number(watchdog)<900?(fTips("\u5EFA\u8BAE\u91CD\u8BD5\u5EF6\u8FDF\u4E0D\u8981\u4F4E\u4E8E900s\u537315\u5206\u949F\uFF0C\u5DF2\u8BBE\u4E3A1800s"),e=1800):e=Number(watchdog):e=5400;for(let o=0;o<3;o++){fClear(),fInfo("\u5F00\u59CB\u7B2C"+(o+1)+"\u8F6E\uFF0C\u6700\u957F\u8FD0\u884C\u65F6\u95F4\u4E3A"+e+"s");let r=new Date;if(i=threads.start(function(){xxqg(t)}),i.join(e*1e3),i.isAlive())i.interrupt(),fError("\u8FD0\u884C\u8D85\u65F6\uFF0C\u91CD\u8BD5"),exit_app("\u5B66\u4E60\u5F3A\u56FD"),sleep(1500),app.launchApp("\u5B66\u4E60\u5F3A\u56FD"),sleep(2e3);else{let l=Number(((Number(new Date)-Number(r))/1e3).toFixed());return fInfo("\u672C\u8F6E\u5DF2\u7ED3\u675F\uFF0C\u82B1\u8D39\u65F6\u95F4"+l+"s"),600>l&&fError("\u65F6\u95F4\u8FC7\u77ED\uFF0C\u8BF7\u68C0\u67E5\u65E5\u5FD7\u662F\u62A5\u9519\u5BFC\u81F4\u811A\u672C\u7ED3\u675F\uFF0C\u6B63\u5E38\u7ED3\u675F\u8BF7\u65E0\u89C6"),!0}}fError("\u5DF2\u91CD\u8BD53\u6B21\uFF0C\u53EF\u80FD\u65E0\u969C\u788D\u670D\u52A1\u51FA\u73B0\u6545\u969C\uFF0C\u9000\u51FA\u811A\u672C"),exit()}var noverify_thread=noverify();main();noverify_thread.isAlive()&&noverify_thread.interrupt();fInfo("\u5DF2\u5168\u90E8\u7ED3\u675F");yl_on&&(fInfo("\u8C03\u56DE\u521D\u59CB\u97F3\u91CF:"+yuan_yl),device.setMusicVolume(yuan_yl));fInfo("\u53D6\u6D88\u5C4F\u5E55\u5E38\u4EAE");device.cancelKeepingAwake();device.vibrate(500);fInfo("\u4E00\u79D2\u540E\u5173\u95ED\u60AC\u6D6E\u7A97");device.cancelVibration();sleep(1e3);console.hide();home();exit_app("\u5B66\u4E60\u5F3A\u56FD");app_exit&&(fInfo("\u672C\u8F6F\u4EF6"),exit_app(appName));exit()});var xt={};function Z(){x.put("script_chosen",ui.script_chosen.getText()+""),n.put("test",ui.ttxs_pro_test.isChecked()),n.put("app_exit",ui.ttxs_pro_app_exit.isChecked()),n.put("watchdog",ui.ttxs_pro_watchdog.getText()+""),n.put("slide_verify",ui.ttxs_pro_slide_verify.getText()+""),n.put("fast_mode",ui.ttxs_pro_fast_mode.isChecked()),n.put("ddtong",ui.ttxs_pro_ddtong.isChecked()),n.put("is_exit",ui.ttxs_pro_is_exit.isChecked()),n.put("pinglun",ui.ttxs_pro_pinglun.isChecked()),n.put("comment",ui.ttxs_pro_comment.getText()+""),n.put("shipin",ui.ttxs_pro_shipin.isChecked()),n.put("wenzhang",ui.ttxs_pro_wenzhang.isChecked()),n.put("meiri",ui.ttxs_pro_meiri.isChecked()),n.put("meizhou",ui.ttxs_pro_meizhou.getSelectedItemPosition()),n.put("zhuanxiang",ui.ttxs_pro_zhuanxiang.getSelectedItemPosition()),n.put("tiaozhan",ui.ttxs_pro_tiaozhan.isChecked()),n.put("ocr_choice",ui.ttxs_pro_ocr_choice.getSelectedItemPosition()),n.put("ocr_maxtime",ui.ttxs_pro_ocr_maxtime.getText()+""),n.put("duizhan_mode",ui.ttxs_pro_duizhan_mode.getSelectedItemPosition()),n.put("jisu",ui.ttxs_pro_jisu.getText()+""),n.put("guaji",ui.ttxs_pro_guaji.isChecked()),n.put("siren",ui.ttxs_pro_siren.isChecked()),n.put("dacuo_num",ui.ttxs_pro_dacuo_num.getText()+""),n.put("shuangren",ui.ttxs_pro_shuangren.isChecked()),n.put("bendi",ui.ttxs_pro_bendi.isChecked()),n.put("dingyue",ui.ttxs_pro_dingyue.getSelectedItemPosition()),n.put("pushplus",ui.ttxs_pro_pushplus.getText()+""),n.put("yl_on",ui.ttxs_pro_yl_on.isChecked()),n.put("yinliang",ui.ttxs_pro_yinliang.getText()+""),n.put("zhanghao",ui.ttxs_pro_zhanghao.getText()+""),n.put("district_select",ui.ttxs_pro_district_select.getSelectedItemPosition()),n.put("district",ui.ttxs_pro_district.getText()+""),n.put("broadcast",ui.ttxs_pro_broadcast.getText()+""),n.put("platform",ui.ttxs_pro_platform.getText()+""),n.put("subcolumn",ui.ttxs_pro_subcolumn.getText()+""),toastLog("\u5929\u5929\u5411\u4E0Apro\u914D\u7F6E\u4FDD\u5B58\u6210\u529F\uFF01")}function tt(){x.put("script_chosen","dist/0.js"),ui.script_chosen.setText(x.get("script_chosen")),n.put("test",!1),ui.ttxs_pro_ddtong.setChecked(n.get("test")),n.put("watchdog","1800"),ui.ttxs_pro_watchdog.setText(n.get("watchdog")),n.put("slide_verify","300"),ui.ttxs_pro_slide_verify.setText(n.get("slide_verify")),n.put("fast_mode",!1),ui.ttxs_pro_fast_mode.setChecked(n.get("fast_mode")),n.put("ddtong",!1),ui.ttxs_pro_ddtong.setChecked(n.get("ddtong")),n.put("is_exit",!0),ui.ttxs_pro_is_exit.setChecked(n.get("is_exit")),n.put("pinglun",!0),ui.ttxs_pro_pinglun.setChecked(n.get("pinglun")),n.put("comment",Q),ui.ttxs_pro_comment.setText(n.get("comment")),n.put("shipin",!0),ui.ttxs_pro_shipin.setChecked(n.get("shipin")),n.put("wenzhang",!0),ui.ttxs_pro_wenzhang.setChecked(n.get("wenzhang")),n.put("meiri",!0),ui.ttxs_pro_meiri.setChecked(n.get("meiri")),n.put("meizhou",0),ui.ttxs_pro_meizhou.setSelection(n.get("meizhou")),n.put("zhuanxiang",0),ui.ttxs_pro_zhuanxiang.setSelection(n.get("zhuanxiang")),n.put("tiaozhan",!0),ui.ttxs_pro_tiaozhan.setChecked(n.get("tiaozhan")),n.put("ocr_choice",0),ui.ttxs_pro_ocr_choice.setSelection(n.get("ocr_choice")),n.put("ocr_maxtime","5000"),ui.ttxs_pro_ocr_maxtime.setText(n.get("ocr_maxtime")),n.put("duizhan_mode",0),ui.ttxs_pro_duizhan_mode.setSelection(n.get("duizhan_mode")),n.put("jisu","0"),ui.ttxs_pro_jisu.setText(n.get("jisu")),n.put("guaji",!0),ui.ttxs_pro_guaji.setChecked(n.get("guaji")),n.put("siren",!0),ui.ttxs_pro_siren.setChecked(n.get("siren")),n.put("dacuo_num","2"),ui.ttxs_pro_dacuo_num.setText(n.get("dacuo_num")),n.put("shuangren",!0),ui.ttxs_pro_shuangren.setChecked(n.get("shuangren")),n.put("bendi",!0),ui.ttxs_pro_bendi.setChecked(n.get("bendi")),n.put("dingyue",0),ui.ttxs_pro_dingyue.setSelection(n.get("dingyue")),n.put("pushplus",""),ui.ttxs_pro_pushplus.setText(n.get("pushplus")),n.put("yl_on",!0),ui.ttxs_pro_yl_on.setChecked(n.get("yl_on")),n.put("yinliang","0"),ui.ttxs_pro_yinliang.setText(n.get("yinliang")),n.put("zhanghao",""),ui.ttxs_pro_zhanghao.setText(n.get("zhanghao")),n.put("district_select",0),ui.ttxs_pro_district_select.setSelection(n.get("district_select")),n.put("district","\u6C5F\u82CF"),ui.ttxs_pro_district.setText(n.get("district")),n.put("broadcast","\u6C5F\u82CF\u65B0\u95FB\u5E7F\u64AD"),ui.ttxs_pro_broadcast.setText(n.get("broadcast")),n.put("platform","\u6C5F\u82CF\u5B66\u4E60\u5E73\u53F0"),ui.ttxs_pro_platform.setText(n.get("platform")),n.put("subcolumn","\u603B\u4E66\u8BB0\u5728\u6C5F\u82CF"),ui.ttxs_pro_subcolumn.setText(n.get("subcolumn")),toastLog("\u5929\u5929\u5411\u4E0Apro\u914D\u7F6E\u6062\u590D\u9ED8\u8BA4\uFF01")}function gt(){ui.script_chosen.setText(x.get("script_chosen","dist/0.js")),ui.ttxs_pro_test.setChecked(n.get("test",!1)),ui.ttxs_pro_app_exit.setChecked(n.get("app_exit",!0)),ui.ttxs_pro_watchdog.setText(n.get("watchdog","1800")),ui.ttxs_pro_slide_verify.setText(n.get("slide_verify","300")),ui.ttxs_pro_fast_mode.setChecked(n.get("fast_mode",!1)),ui.ttxs_pro_ddtong.setChecked(n.get("ddtong",!1)),ui.ttxs_pro_is_exit.setChecked(n.get("is_exit",!0)),ui.ttxs_pro_pinglun.setChecked(n.get("pinglun",!0)),ui.ttxs_pro_comment.setText(n.get("comment",Q)),ui.ttxs_pro_shipin.setChecked(n.get("shipin",!0)),ui.ttxs_pro_wenzhang.setChecked(n.get("wenzhang",!0)),ui.ttxs_pro_meiri.setChecked(n.get("meiri",!0)),ui.ttxs_pro_meizhou.setSelection(n.get("meizhou",0)),ui.ttxs_pro_zhuanxiang.setSelection(n.get("zhuanxiang",0)),ui.ttxs_pro_tiaozhan.setChecked(n.get("tiaozhan",!0)),ui.ttxs_pro_ocr_choice.setSelection(n.get("ocr_choice",0)),ui.ttxs_pro_ocr_maxtime.setText(n.get("ocr_maxtime","5000")),ui.ttxs_pro_duizhan_mode.setSelection(n.get("duizhan_mode",0)),ui.ttxs_pro_jisu.setText(n.get("jisu","0")),ui.ttxs_pro_guaji.setChecked(n.get("guaji",!0)),ui.ttxs_pro_siren.setChecked(n.get("siren",!0)),ui.ttxs_pro_dacuo_num.setText(n.get("dacuo_num","2")),ui.ttxs_pro_shuangren.setChecked(n.get("shuangren",!0)),ui.ttxs_pro_bendi.setChecked(n.get("bendi",!0)),ui.ttxs_pro_dingyue.setSelection(n.get("dingyue",0)),ui.ttxs_pro_pushplus.setText(n.get("pushplus","")),ui.ttxs_pro_yl_on.setChecked(n.get("yl_on",!0)),ui.ttxs_pro_yinliang.setText(n.get("yinliang","0")),ui.ttxs_pro_zhanghao.setText(n.get("zhanghao","")),ui.ttxs_pro_district_select.setSelection(n.get("district_select",0)),ui.ttxs_pro_district.setText(n.get("district","\u6C5F\u82CF")),ui.ttxs_pro_broadcast.setText(n.get("broadcast","\u6C5F\u82CF\u65B0\u95FB\u5E7F\u64AD")),ui.ttxs_pro_platform.setText(n.get("platform","\u6C5F\u82CF\u5B66\u4E60\u5E73\u53F0")),ui.ttxs_pro_subcolumn.setText(n.get("subcolumn","\u603B\u4E66\u8BB0\u5728\u6C5F\u82CF"))}var x,P,n,Y,W,ft,Q,z,et=K(()=>{"ui";M();importClass(java.net.HttpURLConnection);importClass(java.net.URL);importClass(java.io.File);importClass(java.io.FileOutputStream);importClass(android.graphics.Color);ui.statusBarColor("#FF4FB3FF");ui.layout(<drawer id="drawer"><vertical><appbar><toolbar id="toolbar"bg="#ff4fb3ff"title="学习助手"/><tabs id="tabs"bg="#ff4fb3ff"/></appbar><viewpager id="viewpager"><frame><vertical><vertical gravity="center"layout_weight="1"><card w="*"h="70"margin="10 5"cardCornerRadius="2dp"cardElevation="1dp"foreground="?selectableItemBackground"><horizontal gravity="center_vertical"><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text text="脚本选择"textColor="#222222"textSize="16sp"maxLines="1"/><text text="切换脚本后需在配置页设置"textColor="#999999"textSize="14sp"maxLines="1"/></vertical><input id="script_chosen"marginLeft="4"marginRight="6"text="dist/0.js"hint="文件名，带目录"textSize="13sp"inputType="text"/>{}</horizontal></card><card w="*"h="70"margin="10 5"cardCornerRadius="2dp"cardElevation="1dp"foreground="?selectableItemBackground"><horizontal gravity="center_vertical"><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text text="无障碍服务"textColor="#222222"textSize="16sp"maxLines="1"/><text text="请确保开启"textColor="#999999"textSize="14sp"maxLines="1"/></vertical><checkbox id="autoService"marginLeft="4"marginRight="6"checked="{{auto.service != null}}"/></horizontal></card><card w="*"h="70"margin="10 5"cardCornerRadius="2dp"cardElevation="1dp"foreground="?selectableItemBackground"><horizontal gravity="center_vertical"><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text text="悬浮窗权限"textColor="#222222"textSize="16sp"maxLines="1"/><text text="请确保开启"textColor="#999999"textSize="14sp"maxLines="1"/></vertical><checkbox id="consoleshow"marginLeft="4"marginRight="6"checked="{{floaty.checkPermission()}}"/></horizontal></card><card w="*"h="70"margin="10 5"cardCornerRadius="2dp"cardElevation="1dp"foreground="?selectableItemBackground"><horizontal gravity="center_vertical"><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text text="音量上键可以停止所有脚本运行"textColor="#222222"textSize="16sp"maxLines="1"/></vertical></horizontal></card></vertical><button h="60"layout_gravity="center"id="log"textSize="18sp"text="查看日志"/><button h="60"layout_gravity="center"id="startH"textSize="18sp"text="手动操作"/><button h="60"layout_gravity="center"id="update"textSize="18sp"text="更新"/><button id="start"text="开 始 学 习"textSize="25sp"color="#ffffff"bg="#FF4FB3FF"foreground="?selectableItemBackground"/></vertical></frame><ScrollView><frame><vertical id="ttxs_pro"gravity="center"><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="看门狗(秒)"/><text w="auto"textColor="#999999"textSize="12sp"text="填1800就是超过30分钟重试"/><text w="auto"textColor="#999999"textSize="12sp"text="空着或0默认5400秒，超过即重新执行"/></vertical><input id="ttxs_pro_watchdog"marginLeft="4"marginRight="6"text="1800"hint="秒"textSize="13sp"inputType="number"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="发现滑动验证后的震动提醒时间(ms)"/><text w="auto"textColor="#999999"textSize="12sp"text="空着或0不开启震动"/></vertical><input id="ttxs_pro_slide_verify"marginLeft="4"marginRight="6"text="300"textSize="13sp"inputType="number"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="无障碍模式2"/><text w="auto"textColor="#999999"textSize="12sp"text="无障碍服务没问题就不勾选"/></vertical><checkbox id="ttxs_pro_fast_mode"marginLeft="4"marginRight="6"checked="false"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="点点通功能"/></vertical><checkbox id="ttxs_pro_ddtong"marginLeft="4"marginRight="6"checked="false"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="开始前强制结束强国"/><text w="auto"textColor="#999999"textSize="12sp"text="如果关闭，请确保强国已退出或在首页"/></vertical><checkbox id="ttxs_pro_is_exit"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="评论"/></vertical><checkbox id="ttxs_pro_pinglun"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="评论内容"/><text w="auto"textColor="#999999"textSize="12sp"text="随机选择一项作为评论内容，以竖线“|”分隔"/><text w="auto"textColor="#999999"textSize="12sp"text="如果只有一项则每次评论都一样"/><input id="ttxs_pro_comment"marginLeft="4"marginRight="6"text="全心全意为人民服务|不忘初心，牢记使命|不忘初心，方得始终|永远坚持党的领导|富强、民主、文明、和谐|自由，平等，公正，法治"textSize="13sp"inputType="textMultiLine"/></vertical></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="视听学习次数"/></vertical><checkbox id="ttxs_pro_shipin"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="文章次数与时长"/></vertical><checkbox id="ttxs_pro_wenzhang"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="每日答题"/></vertical><checkbox id="ttxs_pro_meiri"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="每周答题"/><spinner id="ttxs_pro_meizhou"marginLeft="4"marginRight="6"entries="最近一次已作答开始倒序|正序答题|不做"/></vertical></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="专项答题"/><spinner id="ttxs_pro_zhuanxiang"marginLeft="4"marginRight="6"entries="最近一次已作答开始倒序|正序答题|不做"/></vertical></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="挑战答题"/></vertical><checkbox id="ttxs_pro_tiaozhan"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="OCR选择"/><spinner id="ttxs_pro_ocr_choice"marginLeft="4"marginRight="6"entries="GoogleMLKit|PaddleOCR|第三方插件"/></vertical></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="ocr识别跳过阈值(ms)"/><text w="auto"textColor="#999999"textSize="12sp"text="空着或0默认5000，超过此时间会跳过多人对战"/><text w="auto"textColor="#999999"textSize="12sp"text="建议按照平时正常的ocr识别时间设置"/></vertical><input id="ttxs_pro_ocr_maxtime"marginLeft="4"marginRight="6"text="5000"textSize="13sp"inputType="number"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="对战选项模式"/><spinner id="ttxs_pro_duizhan_mode"marginLeft="4"marginRight="6"entries="随机顺序(等选项显示后识别答案)|固定顺序(历史遗留选项)|手动答题(识别答案后等待用户手动点击)"/></vertical></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="对战极速模式延迟(历史遗留选项)"/><text w="auto"textColor="#999999"textSize="12sp"text="只在选项固定顺序时生效"/></vertical><input id="ttxs_pro_jisu"marginLeft="4"marginRight="6"text="0"textSize="13sp"inputType="number"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="是否挂机跳过四人赛首局"/><text w="auto"textColor="#999999"textSize="12sp"text="首局匹配对手较强，挂机不会扣积分局数"/></vertical><checkbox id="ttxs_pro_guaji"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="四人赛"/></vertical><checkbox id="ttxs_pro_siren"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="平衡胜率(答错)次数"/></vertical><input id="ttxs_pro_dacuo_num"marginLeft="4"marginRight="6"text="2"textSize="13sp"inputType="number"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="双人对战"/></vertical><checkbox id="ttxs_pro_shuangren"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="本地"/></vertical><checkbox id="ttxs_pro_bendi"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="订阅"/><spinner id="ttxs_pro_dingyue"marginLeft="4"marginRight="6"entries="不做|正序订阅|只订阅年度上新"/></vertical></horizontal><horizontal gravity="center_vertical"padding="5 5"visibility="gone"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="pushplus_token(微信推送)"/><text w="auto"textColor="#999999"textSize="12sp"text="微信关注pushplus推送加，复制token填入"/><text w="auto"textColor="#999999"textSize="12sp"text="注意！搜索结果有两个，一定要关注正确"/><input id="ttxs_pro_pushplus"text=""textSize="13sp"/></vertical></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="是否启用音量调节"/><text w="auto"textColor="#999999"textSize="12sp"text="每次运行脚本后调节音量百分比"/></vertical><checkbox id="ttxs_pro_yl_on"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="音量"/><text w="auto"textColor="#999999"textSize="12sp"text="调节音量百分比(只填数字)"/></vertical><input id="ttxs_pro_yinliang"marginLeft="4"marginRight="6"text="0"textSize="13sp"inputType="number"/></horizontal><horizontal gravity="center_vertical"padding="5 5"visibility="gone"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="多账号(选填，不限个数)"/><text w="auto"textColor="#999999"textSize="12sp"text="使用前确保所有账号都已完成短信验证"/><text w="auto"textColor="#999999"textSize="12sp"text="账号1:密码1:token1(换行/回车)账号2:密码2:token2(换行/回车)账号3:密码3:token3"/><text w="auto"textColor="#999999"textSize="12sp"text="结束后会自动登录回账号1"/><text w="auto"textColor="#999999"textSize="12sp"text="新增多账号1对1微信推送，按格式配置即可"/><text w="auto"textColor="#999999"textSize="12sp"text="没有则根据上面配置的pushplus_token为主"/><input id="ttxs_pro_zhanghao"text=""textSize="13sp"/></vertical></horizontal><horizontal><button style="Widget.AppCompat.Button.Colored"id="ttxs_pro_save"text="保存配置"padding="12dp"w="*"/></horizontal><horizontal><button style="Widget.AppCompat.Button.Colored"id="ttxs_pro_reset"text="恢复默认"padding="12dp"w="*"/></horizontal></vertical></frame></ScrollView><ScrollView><frame><vertical gravity="center"><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="测试"/></vertical><checkbox id="ttxs_pro_test"marginLeft="4"marginRight="6"checked="false"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="是否退出本程序"/></vertical><checkbox id="ttxs_pro_app_exit"marginLeft="4"marginRight="6"checked="true"/></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="16sp"text="文章地区设置"/><text w="auto"textColor="#999999"textSize="12sp"text="默认为江苏"/><text w="auto"textColor="#999999"textSize="12sp"text="不清楚请勿改动，填写错误将无法运行"/><text w="auto"textColor="#222222"textSize="15sp"text="选择地区"/><spinner id="ttxs_pro_district_select"marginLeft="4"marginRight="6"entries="江苏|北京|自定义"/><vertical id="ttxs_pro_district_edit"visibility="gone"><text w="auto"textColor="#222222"textSize="15sp"text="自定义地区"/><horizontal><text w="auto"textColor="#222222"textSize="15sp"text="地区"/><input id="ttxs_pro_district"marginLeft="4"marginRight="6"text=""w="*"textSize="15sp"inputType="text"/></horizontal><horizontal><text w="auto"textColor="#222222"textSize="15sp"text="广播频道"/><input id="ttxs_pro_broadcast"marginLeft="4"marginRight="6"text=""w="*"textSize="15sp"inputType="text"/></horizontal><horizontal><text w="auto"textColor="#222222"textSize="15sp"text="学习平台"/><input id="ttxs_pro_platform"marginLeft="4"marginRight="6"text=""w="*"textSize="15sp"inputType="text"/></horizontal><horizontal><text w="auto"textColor="#222222"textSize="15sp"text="子栏目"/><input id="ttxs_pro_subcolumn"marginLeft="4"marginRight="6"text=""w="*"textSize="15sp"inputType="text"/></horizontal></vertical></vertical></horizontal><horizontal gravity="center_vertical"padding="5 5"><View bg="#00BFFF"h="*"w="10"/><vertical layout_weight="1"><vertical padding="10 8"><text w="auto"textColor="#222222"textSize="15sp"text="脚本名称"/><text w="auto"textColor="#999999"textSize="12sp"text="设置脚本名称，包括目录名，不包含'/'前缀"/></vertical><horizontal gravity="center_vertical"><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="main脚本"/><text w="auto"textColor="#999999"textSize="12sp"text="脚本名称"/><text w="auto"textColor="#999999"textSize="12sp"text="包括目录、后缀"/></vertical><input id="ttxs_pro_main"marginLeft="4"marginRight="6"text="dist/main.js"hint="脚本名称"textSize="13sp"inputType="text"/></horizontal><horizontal gravity="center_vertical"><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="UI脚本"/><text w="auto"textColor="#999999"textSize="12sp"text="脚本名称"/><text w="auto"textColor="#999999"textSize="12sp"text="包括目录、后缀"/></vertical><input id="ttxs_pro_ui"marginLeft="4"marginRight="6"text="dist/ui.js"hint="脚本名称"textSize="13sp"inputType="text"/></horizontal><horizontal><vertical padding="10 8"h="auto"w="0"layout_weight="1"><text w="auto"textColor="#222222"textSize="15sp"text="script脚本"/><text w="auto"textColor="#999999"textSize="12sp"text="脚本名称"/><text w="auto"textColor="#999999"textSize="12sp"text="包括目录、后缀"/></vertical><input id="ttxs_pro_script"marginLeft="4"marginRight="6"text="dist/0.js"hint="脚本名称"textSize="13sp"inputType="text"/></horizontal></vertical></horizontal><horizontal><button style="Widget.AppCompat.Button.Colored"id="ttxs_pro_save2"text="保存配置"padding="12dp"w="*"/></horizontal><horizontal><button style="Widget.AppCompat.Button.Colored"id="ttxs_pro_reset2"text="恢复默认"padding="12dp"w="*"/></horizontal><horizontal><button style="Widget.AppCompat.Button.Colored"id="ttxs_pro_clear"text="清除脚本缓存"padding="12dp"w="*"/></horizontal></vertical></frame></ScrollView></viewpager></vertical></drawer>);http.__okhttp__.setTimeout(1e4);x=storages.create("GLOBAL_CONFIG"),P=x.get("script"),n=storages.create("TTXS_PRO_CONFIG"),W=null,ft=["\u5168\u5FC3\u5168\u610F\u4E3A\u4EBA\u6C11\u670D\u52A1","\u4E0D\u5FD8\u521D\u5FC3\uFF0C\u7262\u8BB0\u4F7F\u547D","\u4E0D\u5FD8\u521D\u5FC3\uFF0C\u65B9\u5F97\u59CB\u7EC8","\u6C38\u8FDC\u575A\u6301\u515A\u7684\u9886\u5BFC","\u5BCC\u5F3A\u3001\u6C11\u4E3B\u3001\u6587\u660E\u3001\u548C\u8C10","\u81EA\u7531\uFF0C\u5E73\u7B49\uFF0C\u516C\u6B63\uFF0C\u6CD5\u6CBB"],Q=ft.join("|");gt();ui.emitter.on("create_options_menu",t=>{t.add("\u65E5\u5FD7"),t.add("\u5173\u4E8E")});ui.emitter.on("options_item_selected",(t,e)=>{switch(e.getTitle()){case"\u65E5\u5FD7":app.startActivity("console");break;case"\u5173\u4E8E":alert("\u5173\u4E8E","\u5B66\u4E60\u52A9\u624B");break}t.consumed=!0});activity.setSupportActionBar(ui.toolbar);ui.viewpager.setTitles(["\u9996\u9875","\u811A\u672C\u914D\u7F6E","\u8BE6\u7EC6\u8BBE\u7F6E"]);ui.tabs.setupWithViewPager(ui.viewpager);ui.autoService.on("check",function(t){t&&auto.service==null&&app.startActivity({action:"android.settings.ACCESSIBILITY_SETTINGS"}),!t&&auto.service!=null&&auto.service.disableSelf()});ui.consoleshow.on("check",function(t){t&&!floaty.checkPermission()&&app.startActivity({packageName:"com.android.settings",className:"com.android.settings.Settings$AppDrawOverlaySettingsActivity",data:"package:"+context.getPackageName()})});ui.emitter.on("resume",function(){ui.autoService.checked=auto.service!=null,ui.consoleshow.checked=floaty.checkPermission()});ui.log.click(function(){app.startActivity("console")});ui.start.click(function(){if(threads.shutDownAll(),W!=null&&W.isAlive()){alert("\u6CE8\u610F","\u811A\u672C\u6B63\u5728\u8FD0\u884C\uFF0C\u8BF7\u7ED3\u675F\u4E4B\u524D\u8FDB\u7A0B");return}W=threads.start(function(){console.log("\u70B9\u51FB\u5F00\u59CB\u6309\u94AE"),Y&&Y.getEngine().forceStop();let t=x.get("script_name","dist/0.js");P=P||I(t),Promise.resolve().then(()=>pt(H()))})});ui.update.click(function(){threads.start(function(){let t=x.get("script_name","dist/0.js");P=I(t),x.put("script",P);let e=I("dist/main.js");x.put("main",e);let i=I("dist/UI.js");x.put("UI",i),console.log("\u66F4\u65B0\u6210\u529F")})});ui.update.on("long_click",()=>{threads.start(function(){let t=dialogs.singleChoice("\u8BF7\u9009\u62E9\u4E0B\u8F7D\u4EE3\u7406",V,0),e=x.get("script_name","dist/0.js"),i=V[t],o=R(i+e);if(!o)throw new Error("update: \u811A\u672C\u66F4\u65B0\u5931\u8D25");P=o,x.put("script",P);let r=R(i+"dist/main.js");if(!r)throw new Error("update: \u811A\u672C\u66F4\u65B0\u5931\u8D25");x.put("main",r);let a=R(i+"dist/UI.js");if(!a)throw new Error("update: \u811A\u672C\u66F4\u65B0\u5931\u8D25");x.put("UI",a),console.log("\u66F4\u65B0\u6210\u529F")})});ui.ttxs_pro_clear.click(function(){threads.start(function(){x.put("script",""),x.put("main",""),x.put("UI",""),console.log("\u811A\u672C\u7F13\u5B58\u5DF2\u6E05\u9664")})});ui.ttxs_pro_save.click(Z);ui.ttxs_pro_save2.click(Z);ui.ttxs_pro_reset.click(tt);ui.ttxs_pro_reset2.click(tt);z={\u6C5F\u82CF:{district:"\u6C5F\u82CF",broadcast:"\u6C5F\u82CF\u65B0\u95FB\u5E7F\u64AD",platform:"\u6C5F\u82CF\u5B66\u4E60\u5E73\u53F0",subcolumn:"\u603B\u4E66\u8BB0\u5728\u6C5F\u82CF"},\u5317\u4EAC:{district:"\u5317\u4EAC",broadcast:"\u5317\u4EAC\u65B0\u95FB\u5E7F\u64AD",platform:"\u5317\u4EAC\u5B66\u4E60\u5E73\u53F0",subcolumn:"\u65B0\u601D\u60F3\u624E\u6839\u4EAC\u534E"}};ui.ttxs_pro_district_select.setOnItemSelectedListener(new android.widget.AdapterView.OnItemSelectedListener({onItemSelected:function(t,e,i,o){switch(o){case 0:ui.ttxs_pro_district.setText(z.\u6C5F\u82CF.district),ui.ttxs_pro_broadcast.setText(z.\u6C5F\u82CF.broadcast),ui.ttxs_pro_platform.setText(z.\u6C5F\u82CF.platform),ui.ttxs_pro_subcolumn.setText(z.\u6C5F\u82CF.subcolumn),ui.ttxs_pro_district_edit.visibility=8;break;case 1:ui.ttxs_pro_district.setText(z.\u5317\u4EAC.district),ui.ttxs_pro_broadcast.setText(z.\u5317\u4EAC.broadcast),ui.ttxs_pro_platform.setText(z.\u5317\u4EAC.platform),ui.ttxs_pro_subcolumn.setText(z.\u5317\u4EAC.subcolumn),ui.ttxs_pro_district_edit.visibility=8;break;case 2:ui.ttxs_pro_district_edit.visibility=0;break;default:ui.ttxs_pro_district.setText(z.\u6C5F\u82CF.district),ui.ttxs_pro_broadcast.setText(z.\u6C5F\u82CF.broadcast),ui.ttxs_pro_platform.setText(z.\u6C5F\u82CF.platform),ui.ttxs_pro_subcolumn.setText(z.\u6C5F\u82CF.subcolumn)}}}))});M();console.clear();http.__okhttp__.setTimeout(1e4);var q=storages.create("GLOBAL_CONFIG"),T=q.get("UI"),ht=!0;function wt(){E()}function E(){try{T?engines.execScript("UI",T):(T=I("dist/UI.js"),q.put("UI",T),E())}catch(t){if(console.error("runUI: ",t),confirm("UI\u811A\u672C\u8FD0\u884C\u5931\u8D25\uFF0C\u662F\u5426\u66F4\u65B0\u811A\u672C\uFF1F"))if(confirm("\u662F\u5426\u9009\u62E9\u4E0B\u8F7D\u4EE3\u7406")){let o=dialogs.singleChoice("\u8BF7\u9009\u62E9\u4E0B\u8F7D\u4EE3\u7406",V,0),r=V[o]+"dist/UI.js",a=R(r);a?(T=a,q.put("UI",T),E()):(console.log("\u91CD\u65B0\u8FD0\u884CUI\u811A\u672C"),E())}else{let o=I("dist/UI.js");o?(T=o,q.put("UI",T),E()):(console.log("\u91CD\u65B0\u8FD0\u884CUI\u811A\u672C"),E())}else exit()}}ht?(console.log("This is a new version!"),Promise.resolve().then(()=>(et(),xt))):(console.log("This is a old version!"),wt());})();
